# ğŸ“± Build Android APK - Complete Instructions

Since Bubblewrap requires internet access to download JDK and Android SDK tools, follow these instructions **on your own machine** (not in this sandboxed environment).

## ğŸ¯ Option 2: Bubblewrap CLI (What You Chose)

### âœ… Prerequisites Installed
- âœ… Node.js v22.21.1
- âœ… npm 10.9.4
- âœ… Bubblewrap CLI installed globally

### ğŸ“‹ Step-by-Step Instructions

Run these commands **on your local machine** (where you cloned the MegaBonk repo):

#### Step 1: Install Bubblewrap (if not already done)
```bash
npm install -g @bubblewrap/cli
```

#### Step 2: Start the Local Server
```bash
cd /path/to/MegaBonk
python3 -m http.server 8000 --directory src
```

Leave this terminal open and open a **new terminal** for the next steps.

#### Step 3: Initialize Bubblewrap Project
```bash
cd /path/to/MegaBonk
bubblewrap init --manifest=http://localhost:8000/manifest.json
```

**Answer the prompts:**
- **Install JDK?** â†’ **Y** (Yes, recommended)
- **Install Android SDK?** â†’ **Y** (Yes, recommended)
- Wait for downloads to complete (may take 2-5 minutes)

The tool will:
- Download JDK 17
- Download Android SDK tools
- Read your manifest.json
- Create a `twa-manifest.json` file
- Set up the Android project structure

#### Step 4: Build the APK
```bash
bubblewrap build
```

This will:
- Create the Android project
- Generate signing keys (stores in `~/.bubblewrap/android-keystore`)
- Build the APK
- Sign the APK

**Build time:** 2-5 minutes

#### Step 5: Find Your APK
The signed APK will be at:
```
./app-release-signed.apk
```

#### Step 6: Install on Android Device

**Option A: USB Installation (Fastest)**
```bash
# Connect your Android device via USB
# Enable USB debugging in Developer Options
bubblewrap install
```

**Option B: Manual Installation**
1. Transfer `app-release-signed.apk` to your phone (email, Google Drive, USB)
2. On your Android phone:
   - Settings â†’ Security â†’ Enable "Install from Unknown Sources"
   - Tap the APK file â†’ Install

---

## âš¡ Faster Alternative: PWABuilder (Recommended)

Since Bubblewrap requires downloads and setup, **PWABuilder is actually easier** for first-time use:

### Why PWABuilder is Better for You:
- âœ… No JDK/Android SDK downloads
- âœ… No local setup needed
- âœ… Builds in the cloud (5 minutes)
- âœ… Just need a public URL

### Quick PWABuilder Steps:

#### 1. Deploy to Netlify (Free, 5 minutes)
```bash
# Go to netlify.com
# Create free account
# Drag & drop your MegaBonk/src folder
# Get instant URL: https://your-app.netlify.app
```

#### 2. Generate APK (5 minutes)
```bash
# Go to pwabuilder.com
# Enter your Netlify URL
# Click "Package for Stores" â†’ "Android"
# Download the APK
```

#### 3. Install
```bash
# Transfer APK to phone and install
# Done!
```

**Total time: 10 minutes** vs 15-20 minutes for Bubblewrap first-time setup

---

## ğŸ”§ Troubleshooting Bubblewrap

### Error: "EAI_AGAIN" or Network Errors
- **Cause**: No internet connection or firewall blocking
- **Fix**: Check internet connection, disable VPN, try different network

### Error: "JDK not found"
- **Cause**: JDK download failed
- **Fix**: Let Bubblewrap install it automatically (answer Y to the prompt)

### Error: "Android SDK not found"
- **Cause**: SDK download failed
- **Fix**: Let Bubblewrap install it automatically

### Error: "Signing failed"
- **Cause**: Keystore issues
- **Fix**: Delete `~/.bubblewrap/android-keystore` and rebuild

### Build is Slow
- **Normal**: First build takes 5-10 minutes (downloads SDK, builds project)
- **Subsequent builds**: 30-60 seconds

---

## ğŸ“Š Comparison: Bubblewrap vs PWABuilder

| Feature | Bubblewrap | PWABuilder |
|---------|-----------|------------|
| **Setup time** | 15-20 min (first time) | 0 min |
| **Build time** | 2-5 min | 2-3 min |
| **Requires internet** | âœ… Yes (one-time) | âœ… Yes |
| **Local development** | âœ… Yes (localhost) | âŒ No (needs public URL) |
| **Signing keys** | âœ… You control | âŒ Generated by service |
| **Total time** | 20-25 min | 10 min |
| **Best for** | Repeated builds, local testing | One-time APK, quick results |

---

## ğŸ¯ My Recommendation

**For your first APK:**
Use **PWABuilder** - it's faster and requires less setup.

**For development:**
Use **Bubblewrap** - after initial setup, rebuilds are quick.

**For Play Store:**
Either works, but PWABuilder generates production-ready AAB files.

---

## ğŸ“± What Happens After Build

Once you have the APK installed:
- âœ… Works 100% offline
- âœ… Full-screen app experience
- âœ… Appears in app drawer
- âœ… No browser UI
- âœ… No computer needed ever again
- âœ… Can share APK with friends

---

## ğŸš€ Next Steps

**Choose your path:**

1. **Want it now? (10 min)** â†’ Use PWABuilder (see instructions above)
2. **Want local control? (20 min)** â†’ Use Bubblewrap (follow Step 1-6)
3. **Want to test first?** â†’ Use the PWA "Add to Home Screen" method (already working)

All methods result in a working standalone Android app!

---

## ğŸ“š Additional Resources

- [Bubblewrap Documentation](https://github.com/GoogleChromeLabs/bubblewrap)
- [PWABuilder Guide](https://www.pwabuilder.com/)
- [Full Android Guide](docs/ANDROID_STANDALONE.md)
- [Quick Start](ANDROID_QUICK_START.md)

---

**Questions? Check the full guide at `docs/ANDROID_STANDALONE.md`**
