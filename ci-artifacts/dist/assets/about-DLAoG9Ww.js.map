{"version":3,"file":"about-DLAoG9Ww.js","sources":["../../src/modules/about.ts"],"sourcesContent":["// ========================================\n// MegaBonk About Tab Module\n// Displays app version, build info, and credits\n// ========================================\n\nimport { safeGetElementById, escapeHtml } from './utils.ts';\nimport { getDataForTab } from './data-service.ts';\n\n// ========================================\n// Build-time Constants (injected by Vite)\n// ========================================\n\n// These are defined in vite.build.config.js\ndeclare const __APP_VERSION__: string;\ndeclare const __BUILD_DATE__: string;\ndeclare const __GIT_COMMIT__: string;\ndeclare const __GIT_BRANCH__: string;\n\n// ========================================\n// Constants\n// ========================================\n\nconst GITHUB_REPO_URL = 'https://github.com/jtn0123/MegaBonk';\n\n// ========================================\n// Data Counts\n// ========================================\n\n/**\n * Get dynamic counts from loaded data\n * Returns actual counts from data files for accurate display\n */\nfunction getDataCounts(): { items: number; weapons: number; tomes: number; characters: number; shrines: number } {\n    const items = getDataForTab('items') as unknown[];\n    const weapons = getDataForTab('weapons') as unknown[];\n    const tomes = getDataForTab('tomes') as unknown[];\n    const characters = getDataForTab('characters') as unknown[];\n    const shrines = getDataForTab('shrines') as unknown[];\n    \n    return {\n        items: items?.length || 0,\n        weapons: weapons?.length || 0,\n        tomes: tomes?.length || 0,\n        characters: characters?.length || 0,\n        shrines: shrines?.length || 0,\n    };\n}\n\n// ========================================\n// Rendering\n// ========================================\n\n/**\n * Render the about tab content\n */\nexport function renderAbout(): void {\n    const container = safeGetElementById('aboutContainer');\n    if (!container) return;\n\n    const version = typeof __APP_VERSION__ !== 'undefined' ? __APP_VERSION__ : '1.0.0';\n    const buildDate = typeof __BUILD_DATE__ !== 'undefined' ? __BUILD_DATE__ : new Date().toISOString();\n    const gitCommit = typeof __GIT_COMMIT__ !== 'undefined' ? __GIT_COMMIT__ : 'dev';\n    const gitBranch = typeof __GIT_BRANCH__ !== 'undefined' ? __GIT_BRANCH__ : 'main';\n    \n    // Get dynamic counts from loaded data\n    const counts = getDataCounts();\n\n    // Format build date for display\n    const formattedDate = new Date(buildDate).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n    });\n\n    container.innerHTML = `\n        <div class=\"about-content\">\n            <div class=\"about-header\">\n                <div class=\"about-logo\">üéÆ</div>\n                <h2 class=\"about-title\">MegaBonk Complete Guide</h2>\n                <p class=\"about-subtitle\">Your ultimate companion for MegaBonk</p>\n            </div>\n\n            <div class=\"about-info-grid\">\n                <div class=\"about-info-card\">\n                    <span class=\"about-info-icon\">üì¶</span>\n                    <div class=\"about-info-details\">\n                        <span class=\"about-info-label\">Version</span>\n                        <span class=\"about-info-value\">${escapeHtml(version)}</span>\n                    </div>\n                </div>\n                <div class=\"about-info-card\">\n                    <span class=\"about-info-icon\">üìÖ</span>\n                    <div class=\"about-info-details\">\n                        <span class=\"about-info-label\">Build Date</span>\n                        <span class=\"about-info-value\">${escapeHtml(formattedDate)}</span>\n                    </div>\n                </div>\n                <div class=\"about-info-card\">\n                    <span class=\"about-info-icon\">üîÄ</span>\n                    <div class=\"about-info-details\">\n                        <span class=\"about-info-label\">Commit</span>\n                        <span class=\"about-info-value\">\n                            <a href=\"${GITHUB_REPO_URL}/commit/${escapeHtml(gitCommit)}\" \n                               target=\"_blank\" \n                               rel=\"noopener noreferrer\"\n                               class=\"about-commit-link\"\n                               title=\"View commit on GitHub\">\n                                ${escapeHtml(gitCommit.substring(0, 7))}\n                            </a>\n                        </span>\n                    </div>\n                </div>\n                <div class=\"about-info-card\">\n                    <span class=\"about-info-icon\">üåø</span>\n                    <div class=\"about-info-details\">\n                        <span class=\"about-info-label\">Branch</span>\n                        <span class=\"about-info-value\">${escapeHtml(gitBranch)}</span>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"about-links-section\">\n                <h3>Resources</h3>\n                <div class=\"about-links\">\n                    <a href=\"${GITHUB_REPO_URL}\" \n                       target=\"_blank\" \n                       rel=\"noopener noreferrer\" \n                       class=\"about-link\">\n                        <span class=\"about-link-icon\">üìÇ</span>\n                        <div class=\"about-link-text\">\n                            <strong>GitHub Repository</strong>\n                            <span>View source code and contribute</span>\n                        </div>\n                    </a>\n                    <a href=\"${GITHUB_REPO_URL}/releases\" \n                       target=\"_blank\" \n                       rel=\"noopener noreferrer\" \n                       class=\"about-link\">\n                        <span class=\"about-link-icon\">üìã</span>\n                        <div class=\"about-link-text\">\n                            <strong>Release History</strong>\n                            <span>See all app versions and updates</span>\n                        </div>\n                    </a>\n                    <a href=\"${GITHUB_REPO_URL}/issues\" \n                       target=\"_blank\" \n                       rel=\"noopener noreferrer\" \n                       class=\"about-link\">\n                        <span class=\"about-link-icon\">üêõ</span>\n                        <div class=\"about-link-text\">\n                            <strong>Report Issues</strong>\n                            <span>Found a bug? Let us know!</span>\n                        </div>\n                    </a>\n                </div>\n            </div>\n\n            <div class=\"about-features-section\">\n                <h3>Features</h3>\n                <ul class=\"about-features\">\n                    <li>üì¶ ${counts.items} items with detailed stats and scaling</li>\n                    <li>‚öîÔ∏è ${counts.weapons} weapons with upgrade paths</li>\n                    <li>üìö ${counts.tomes} tomes with priority rankings</li>\n                    <li>üë§ ${counts.characters} playable characters</li>\n                    <li>‚õ©Ô∏è ${counts.shrines} shrine types</li>\n                    <li>üõ†Ô∏è Interactive build planner</li>\n                    <li>üßÆ Breakpoint calculator</li>\n                    <li>ü§ñ AI-powered build advisor</li>\n                    <li>üì± Offline PWA support</li>\n                </ul>\n            </div>\n\n            <div class=\"about-footer\">\n                <p class=\"about-disclaimer\">\n                    This is a community-made guide. Not affiliated with the game developers.\n                </p>\n            </div>\n        </div>\n    `;\n}\n\n/**\n * Update about tab stats (placeholder for consistency with other tabs)\n */\nexport function updateAboutStats(): void {\n    const itemCount = safeGetElementById('item-count');\n    if (itemCount) {\n        itemCount.textContent = 'About';\n    }\n}\n\n// ========================================\n// Exports for Testing\n// ========================================\n\nexport const __test__ = {\n    GITHUB_REPO_URL,\n    getDataCounts,\n};\n"],"names":["GITHUB_REPO_URL","renderAbout","container","safeGetElementById","gitCommit","counts","items","getDataForTab","weapons","tomes","characters","shrines","length","getDataCounts","formattedDate","Date","toLocaleDateString","year","month","day","hour","minute","innerHTML","escapeHtml","substring","updateAboutStats","itemCount","textContent"],"mappings":"qDAsBA,MAAMA,EAAkB,sCAiCjB,SAASC,IACZ,MAAMC,EAAYC,EAAmB,kBACrC,IAAKD,EAAW,OAEhB,MAEME,EAAoD,UAIpDC,EAjCV,WACI,MAAMC,EAAQC,EAAc,SACtBC,EAAUD,EAAc,WACxBE,EAAQF,EAAc,SACtBG,EAAaH,EAAc,cAC3BI,EAAUJ,EAAc,WAE9B,MAAO,CACHD,MAAOA,GAAOM,QAAU,EACxBJ,QAASA,GAASI,QAAU,EAC5BH,MAAOA,GAAOG,QAAU,EACxBF,WAAYA,GAAYE,QAAU,EAClCD,QAASA,GAASC,QAAU,EAEpC,CAmBmBC,GAGTC,EAAgB,IAAIC,KARgC,4BAQhBC,mBAAmB,QAAS,CAClEC,KAAM,UACNC,MAAO,QACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,YAGZnB,EAAUoB,UAAY,+nBAa+BC,EA9BI,2WAqCJA,EAAWT,wYAQ7Bd,YAA0BuB,EAAWnB,6QAK1CmB,EAAWnB,EAAUoB,UAAU,EAAG,8ZASXD,EAxDK,4QAgE/BvB,yeAUAA,ifAUAA,opBAgBFK,EAAOC,gFACPD,EAAOG,uEACPH,EAAOI,uEACPJ,EAAOK,mEACPL,EAAOM,8hBAepC,CAKO,SAASc,IACZ,MAAMC,EAAYvB,EAAmB,cACjCuB,IACAA,EAAUC,YAAc,QAEhC"}