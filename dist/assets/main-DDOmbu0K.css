:root{--rarity-common: #6b9b6b;--rarity-uncommon: #5bb8d0;--rarity-rare: #c94de0;--rarity-epic: #8b5cf6;--rarity-legendary: #f0a800;--common: var(--rarity-common);--uncommon: var(--rarity-uncommon);--rare: var(--rarity-rare);--epic: var(--rarity-epic);--legendary: var(--rarity-legendary);--bg-primary: #0f0f14;--bg-elevated: #1a1a24;--bg-subtle: #252530;--bg-dark: var(--bg-elevated);--bg-medium: var(--bg-primary);--bg-light: var(--bg-subtle);--text-primary: #ffffff;--text-secondary: #a0a0b0;--text-light: var(--text-primary);--text-muted: var(--text-secondary);--accent: #e94560;--accent-hover: #ff6b8a;--chart-line: var(--accent);--chart-fill: rgba(233, 69, 96, .2);--chart-grid: rgba(255, 255, 255, .1);--chart-text: var(--text-secondary);--tier-ss: #ffd700;--tier-s: #22c55e;--tier-a: #3b82f6;--tier-b: #f59e0b;--tier-c: #ef4444;--transition-fast: .15s;--transition-base: .2s;--transition-slow: .3s}*{margin:0;padding:0;box-sizing:border-box}*{-webkit-tap-highlight-color:rgba(233,69,96,.15);-webkit-touch-callout:none}::selection{background:var(--accent);color:#fff}::-moz-selection{background:var(--accent);color:#fff}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:var(--bg-primary);color:var(--text-primary);line-height:1.6;min-height:100vh;min-height:100dvh;overflow-x:hidden;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);scroll-behavior:smooth;overscroll-behavior-y:contain}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-subtle);border-radius:4px}::-webkit-scrollbar-thumb{background:var(--accent);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--accent-hover)}:focus-visible{outline:2px solid var(--accent);outline-offset:2px}:focus:not(:focus-visible){outline:none}.sr-only,.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}picture{display:inline-block;line-height:0}picture img{display:block}.container{max-width:1400px;margin-left:auto;margin-right:auto;padding:0 20px;width:100%;box-sizing:border-box}header{background:var(--bg-elevated);padding:.75rem 0;border-bottom:1px solid var(--bg-subtle);padding-top:max(.75rem,env(safe-area-inset-top))}header h1{font-size:1.75rem;font-weight:700;margin-bottom:0;text-align:center;color:var(--accent)}.subtitle{text-align:center;color:var(--text-muted);font-size:1.1rem;margin-bottom:1rem}.version-info{display:flex;justify-content:center;gap:2rem;font-size:.9rem;color:var(--text-muted)}main{min-height:calc(100vh - 200px);padding:1rem 0}footer{background:var(--bg-medium);padding:1.5rem 0;text-align:center;margin-top:2rem;border-top:2px solid var(--accent);padding-bottom:max(1.5rem,env(safe-area-inset-bottom))}footer .version-info{margin-bottom:.75rem;font-size:.8rem}footer a{color:var(--accent);text-decoration:none;font-weight:700}footer a:hover{color:var(--accent-hover)}.disclaimer{margin-top:1rem;font-size:.85rem;color:var(--text-muted)}.empty-state{text-align:center;padding:3rem;color:var(--text-secondary)}.empty-icon{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-state p{margin-bottom:1rem}@media(max-width:480px){header{padding:.4rem 0;padding-top:max(.4rem,env(safe-area-inset-top))}header h1{font-size:1.15rem;line-height:1.2}header h1 .header-subtitle{display:none}.subtitle{font-size:.85rem;margin-bottom:.5rem}.version-info{gap:1rem;font-size:.75rem}}.tabs{background:var(--bg-elevated);padding:0;border-bottom:1px solid var(--bg-subtle)}.tab-buttons{display:flex;gap:0;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:var(--accent) var(--bg-subtle);scroll-snap-type:x proximity}.tab-buttons::-webkit-scrollbar{height:4px}.tab-buttons::-webkit-scrollbar-track{background:var(--bg-subtle)}.tab-buttons::-webkit-scrollbar-thumb{background:var(--accent);border-radius:2px}.tab-btn{flex:1;min-width:120px;padding:.875rem 1rem;background:transparent;color:var(--text-secondary);border:none;border-bottom:2px solid transparent;font-size:.875rem;font-weight:600;cursor:pointer;transition:all var(--transition-base) ease;white-space:nowrap;scroll-snap-align:start}.tab-btn:hover{color:var(--text-primary);background:#ffffff08}.tab-btn.active{color:var(--accent);border-bottom-color:var(--accent)}.tab-btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px;box-shadow:0 0 0 4px #e9456040}@media(max-width:768px){.tabs .container{position:relative}.tabs .container:before,.tabs .container:after{content:"";position:absolute;top:0;bottom:0;width:32px;pointer-events:none;z-index:10;opacity:0;transition:opacity .2s ease}.tabs .container:before{left:0;background:linear-gradient(to right,var(--bg-elevated) 0%,transparent 100%)}.tabs .container:after{right:0;background:linear-gradient(to left,var(--bg-elevated) 0%,transparent 100%)}.tabs .container.can-scroll-left:before{opacity:1}.tabs .container.can-scroll-right:after{opacity:1}}.controls{background:var(--bg-elevated);padding:.5rem 0;margin-bottom:1rem;border-bottom:1px solid var(--bg-subtle)}@media(max-width:768px){.controls{position:sticky;top:0;z-index:50;transition:transform .25s ease-out;will-change:transform}.controls.controls-hidden{transform:translateY(-100%)}}.controls .container{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.search-box{flex:1;min-width:200px;max-width:350px;margin-bottom:0;position:relative}.filters{display:flex;flex:1;flex-wrap:wrap;gap:.75rem;align-items:center;justify-content:flex-end}.filters label{font-weight:600;color:var(--text-muted)}.item-count{font-size:.8rem;color:var(--text-muted);padding:.25rem .6rem;background:var(--bg-dark);border-radius:4px;white-space:nowrap;flex-shrink:0}.filter-toggle-btn{display:none;align-items:center;gap:.4rem;padding:.4rem .75rem;background:var(--bg-dark);border:1px solid var(--bg-medium);border-radius:4px;color:var(--text-secondary);font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s ease;flex-shrink:0}.filter-toggle-btn:hover{border-color:var(--accent);color:var(--text-primary)}.filter-toggle-btn.active{background:var(--accent);border-color:var(--accent);color:#fff}.filter-toggle-icon{transition:transform .2s ease}.filter-toggle-btn.active .filter-toggle-icon{transform:rotate(180deg)}@media(max-width:480px){.controls{padding:.4rem 0;margin-bottom:.5rem}.controls .container{flex-direction:row;flex-wrap:wrap;align-items:center;gap:.4rem;padding:0 .5rem}.search-box{flex:1;min-width:0;max-width:none;order:0}#searchInput{padding:.5rem .75rem;font-size:.85rem}.item-count{display:none!important}.filter-toggle-btn{display:flex;order:1;padding:.4rem .5rem;min-width:auto}.filter-toggle-btn .filter-toggle-text{display:none}.filter-toggle-btn .filter-toggle-icon{font-size:1rem}.filters{order:3;flex-basis:100%;flex-direction:column;align-items:stretch;gap:.4rem;width:100%;justify-content:flex-start;display:none;padding-top:.4rem;border-top:1px solid var(--bg-subtle);margin-top:.25rem}.filters.filters-expanded{display:flex}.filters select{width:100%;padding:.5rem 2rem .5rem .75rem;font-size:.85rem}.filters label{display:none}}@media(max-width:375px){.controls .container{padding:0 .4rem;gap:.3rem}#searchInput{font-size:.8rem;padding:.4rem .6rem}.item-count{padding:.25rem .4rem;font-size:.7rem}.filter-toggle-btn{padding:.35rem .5rem;font-size:.75rem}.filters select{padding:.4rem 1.75rem .4rem .6rem;font-size:.8rem}}@media(min-width:481px)and (max-width:768px){.controls .container{gap:.75rem}.search-box{flex:1 1 100%;max-width:none}.item-count{order:0}.filters{flex:1 1 100%;justify-content:flex-start;gap:.5rem}.filters select{flex:1 1 calc(50% - .25rem);min-width:120px;max-width:calc(50% - .25rem)}}.mobile-bottom-nav{display:none;position:fixed;bottom:0;left:0;right:0;background:var(--bg-elevated);border-top:1px solid var(--bg-subtle);padding:.5rem 0;padding-bottom:max(.5rem,env(safe-area-inset-bottom));z-index:100;box-shadow:0 -2px 10px #0000004d}.mobile-bottom-nav .nav-items{display:flex;justify-content:space-around;align-items:center;max-width:500px;margin:0 auto}.mobile-bottom-nav .nav-item{display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.5rem;background:transparent;border:none;color:var(--text-secondary);font-size:.65rem;cursor:pointer;transition:all .2s ease;min-width:60px}.mobile-bottom-nav .nav-item .nav-icon{font-size:1.25rem}@media(max-width:768px){.mobile-bottom-nav{display:block}.tabs{display:none}main{padding-bottom:80px}footer{padding-bottom:max(5rem,calc(4rem + env(safe-area-inset-bottom)))}}.items-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(100%,350px),1fr));gap:1.5rem;margin-bottom:3rem;align-items:stretch}.item-card{background:var(--bg-elevated);border-radius:8px;padding:1.25rem;box-shadow:0 2px 8px #0000004d;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease;cursor:pointer;border:1px solid transparent;border-left:4px solid var(--rarity-common);display:flex;flex-direction:column;min-height:280px}.item-card:before{display:none}.item-card.rarity-common{border-left-color:var(--rarity-common)}.item-card.rarity-uncommon{border-left-color:var(--rarity-uncommon)}.item-card.rarity-rare{border-left-color:var(--rarity-rare)}.item-card.rarity-epic{border-left-color:var(--rarity-epic)}.item-card.rarity-legendary{border-left-color:var(--rarity-legendary)}.item-card:hover{transform:translateY(-2px);box-shadow:0 8px 24px #0006;border-color:#ffffff1a}.item-card.clickable-card{position:relative}.item-card.clickable-card:active{transform:translateY(0);box-shadow:0 2px 8px #0000004d}@media(hover:none)and (pointer:coarse){.item-card.clickable-card:active{background:var(--bg-subtle)}}.item-card:focus-visible{outline:2px solid var(--accent);outline-offset:2px;box-shadow:0 0 0 4px #e9456040}.item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:1rem}.blur-up-container{display:contents}.blur-up-image{filter:blur(8px);transform:scale(1.02);transition:filter .4s ease-out,transform .4s ease-out;will-change:filter,transform}.blur-up-image.blur-up-loaded{filter:blur(0);transform:scale(1)}@media(prefers-reduced-motion:reduce){.blur-up-image{filter:none;transform:none;transition:none}.blur-up-image.blur-up-loaded{filter:none;transform:none}}.entity-image{width:64px;height:64px;object-fit:contain;border-radius:8px;background:#0000004d;flex-shrink:0;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges}.item-title{flex:1}.item-name{font-size:1.25rem;font-weight:600;color:var(--text-primary);margin-bottom:.25rem;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.tier-label{font-size:.7rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;transition:color var(--transition-fast) ease}.tier-label:hover{color:var(--text-primary)}.item-badges{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.25rem}.badge{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:700;text-transform:uppercase}.badge.rarity-common{background:var(--common);color:#000}.badge.rarity-uncommon{background:var(--uncommon);color:#000}.badge.rarity-rare{background:var(--rare);color:#fff}.badge.rarity-epic{background:var(--epic);color:#fff}.badge.rarity-legendary{background:var(--legendary);color:#000}.badge.tier-SS{background:var(--tier-ss);color:#000}.badge.tier-S{background:var(--tier-s);color:#000}.badge.tier-A{background:var(--tier-a);color:#fff}.badge.tier-B{background:var(--tier-b);color:#000}.badge.tier-C{background:var(--tier-c);color:#fff}.item-effect{font-size:.95rem;color:var(--text-primary);line-height:1.5;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px solid rgba(255,255,255,.06);word-wrap:break-word;overflow-wrap:break-word}.item-description{color:var(--text-secondary);font-size:.875rem;line-height:1.6;margin-bottom:.75rem;word-wrap:break-word;overflow-wrap:break-word}.item-formula{font-family:Courier New,monospace;font-size:.85rem;color:var(--text-primary);background:var(--bg-dark);padding:.75rem 1rem;border-radius:6px;border-left:3px solid var(--accent);margin:1rem 0;word-wrap:break-word;overflow-wrap:break-word;overflow-x:auto}.item-notes{font-size:.8rem;color:var(--text-secondary);font-style:italic;margin-bottom:.75rem}.item-meta{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.75rem}.meta-tag{display:inline-block;padding:.25rem .5rem;font-size:.7rem;background:var(--bg-subtle);border-radius:4px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.3px;transition:background var(--transition-fast) ease,color var(--transition-fast) ease}.meta-tag:hover{background:var(--bg-elevated);color:var(--text-primary)}.stack-indicator{margin-left:.5rem}.stack-icon{font-size:1.5rem;opacity:.8}.stacking-indicator{display:inline-flex;align-items:center;gap:.25rem;font-size:.75rem;color:var(--text-secondary);transition:color var(--transition-fast) ease}.stacking-indicator:hover{color:var(--text-primary)}.view-details-btn{width:100%;padding:.75rem;background:transparent;color:var(--accent);border:1px solid var(--accent);border-radius:6px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s ease;margin-top:auto}.item-graph-container+.view-details-btn,.item-graph-placeholder+.view-details-btn,.tome-graph-container+.view-details-btn,.tome-graph-placeholder+.view-details-btn{margin-top:.75rem}.view-details-btn:hover{background:var(--accent);color:#fff}.mini-graph{width:100%;height:150px;margin-top:1rem}@media(max-width:480px){.item-card{min-height:auto;padding:.6rem;border-radius:6px;display:grid;grid-template-columns:48px 1fr;grid-template-rows:auto auto auto;gap:.15rem .6rem;align-items:start}.items-grid{gap:.5rem;margin-bottom:1.5rem}.item-header{display:contents}.entity-image{width:48px;height:48px;grid-column:1;grid-row:1 / 4;align-self:start}.item-title{grid-column:2;grid-row:1;display:flex;align-items:center;gap:.4rem;min-width:0}.item-name{font-size:.95rem;margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0}.tier-label{font-size:.6rem;flex-shrink:0;white-space:nowrap}.favorite-btn{grid-column:2;grid-row:1;justify-self:end;font-size:.9rem;padding:.1rem;margin-left:auto}.compare-checkbox-label{display:none}.item-effect{grid-column:2;grid-row:2;font-size:.8rem;margin-bottom:0;padding-bottom:0;border-bottom:none;line-height:1.35;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.item-description,.expand-indicator,.item-graph-container,.tome-graph-container,.item-graph-placeholder,.tome-graph-placeholder{display:none!important}.item-meta{grid-column:2;grid-row:3;display:flex;align-items:center;gap:.35rem;margin-bottom:0;flex-wrap:wrap}.meta-tag{padding:.15rem .35rem;font-size:.6rem}.view-details-btn{display:none}.badge{padding:2px 6px;font-size:.6rem}.item-badges{gap:.3rem}.stacking-indicator{font-size:.6rem}.stack-icon{font-size:1rem}}@media(max-width:375px){.item-card{grid-template-columns:40px 1fr;padding:.5rem;gap:.1rem .5rem}.items-grid{gap:.4rem}.entity-image{width:40px;height:40px}.item-name{font-size:.85rem}.item-effect{font-size:.75rem}.view-details-btn{padding:.3rem .5rem;font-size:.65rem}.badge{padding:2px 5px;font-size:.55rem}.meta-tag{padding:.12rem .3rem;font-size:.55rem}.tier-label{font-size:.55rem}.favorite-btn{font-size:.8rem}}@media(min-width:481px)and (max-width:768px){.items-grid{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}#searchInput{width:100%;padding:8px 14px;font-size:.9rem;border:2px solid var(--accent);border-radius:6px;background:var(--bg-dark);color:var(--text-light);transition:all .3s ease;-webkit-appearance:none;-moz-appearance:none;appearance:none}#searchInput:focus{outline:none;border-color:var(--accent-hover);box-shadow:0 0 10px #e945604d}.filters select{padding:8px 32px 8px 12px;border:2px solid var(--bg-medium);border-radius:6px;background:var(--bg-dark);color:var(--text-light);cursor:pointer;transition:all .3s ease;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e94560' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 8px center;background-size:16px}.filters select:hover{border-color:var(--accent)}.filters select:focus,.filters select:focus-visible{border-color:var(--accent);outline:2px solid var(--accent);outline-offset:2px}.btn-primary{background:var(--accent);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-primary:hover{background:var(--accent-hover);transform:translateY(-1px)}.btn-primary:active{transform:translateY(0)}.btn-secondary{background:transparent;color:var(--accent);border:2px solid var(--accent);padding:.75rem 1.5rem;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-secondary:hover{background:var(--accent);color:#fff}.btn-secondary:disabled{opacity:.5;cursor:not-allowed}.search-history-dropdown{position:absolute;top:100%;left:0;right:0;background:var(--bg-elevated);border:2px solid var(--accent);border-top:none;border-radius:0 0 8px 8px;box-shadow:0 4px 12px #0000004d;z-index:1000;max-height:300px;overflow-y:auto;margin-top:-8px}.search-history-header{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;border-bottom:1px solid var(--bg-subtle);background:var(--bg-dark);font-size:.875rem;font-weight:600;color:var(--text-muted)}.clear-history-btn{background:transparent;border:none;color:var(--accent);cursor:pointer;font-size:.75rem;padding:.25rem .5rem;border-radius:4px;transition:all .2s ease}.clear-history-btn:hover{background:var(--accent);color:#fff}.search-history-list{list-style:none;padding:0;margin:0}.search-history-item{padding:.75rem 1rem;cursor:pointer;transition:background .2s ease;border-bottom:1px solid var(--bg-subtle)}.search-history-item:last-child{border-bottom:none}.search-history-item:hover{background:var(--bg-dark);color:var(--accent)}.search-history-item:focus-visible,.search-history-item.active{background:var(--bg-dark);color:var(--accent);outline:2px solid var(--accent);outline-offset:-2px}.checkbox-wrapper{display:flex;align-items:center;gap:.5rem;cursor:pointer}.checkbox-wrapper input[type=checkbox]{width:18px;height:18px;accent-color:var(--accent);cursor:pointer}.favorite-btn{background:transparent;border:none;font-size:1.25rem;cursor:pointer;padding:.25rem;opacity:.5;transition:all .2s ease}.favorite-btn:hover{opacity:1;transform:scale(1.1)}.favorite-btn.favorited{opacity:1;color:gold}.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;height:100dvh;overflow:auto;background-color:#0000;-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px);transition:background-color .3s ease,backdrop-filter .3s ease;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;touch-action:pan-y}.modal.active{background-color:#000c;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content{background:var(--bg-medium);margin:2% auto;padding:2rem;border:3px solid var(--accent);border-radius:12px;width:90%;max-width:1000px;box-shadow:0 10px 30px #00000080;position:relative;opacity:0;transform:scale(.95) translateY(-20px);transition:opacity .3s ease,transform .3s cubic-bezier(.34,1.56,.64,1)}.modal.active .modal-content{opacity:1;transform:scale(1) translateY(0)}.close{color:var(--text-muted);float:right;font-size:2rem;font-weight:700;cursor:pointer;transition:color .3s ease,transform .2s ease;background:none;border:none;padding:0;line-height:1}.close:hover,.close:focus{color:var(--accent);transform:scale(1.1)}.close:focus-visible{outline:2px solid var(--accent);outline-offset:2px;border-radius:4px}.modal-header{margin-bottom:2rem}.modal-item-name{font-size:2.5rem;margin-bottom:1rem}.large-graph{width:100%;height:400px;margin:2rem 0}.synergies-section,.anti-synergies-section{margin-top:2rem}.synergies-section h3,.anti-synergies-section h3{margin-bottom:1rem;color:var(--common)}.anti-synergies-section h3{color:var(--tier-c)}.synergy-list,.antisynergy-list{display:flex;flex-wrap:wrap;gap:.5rem}.synergy-tag{background:#5cb85c33;color:var(--common);padding:.5rem 1rem;border-radius:20px;font-size:.85rem;border:1px solid var(--common)}.antisynergy-tag{padding:6px 12px;background:var(--bg-dark);border-radius:6px;font-size:.9rem;border:2px solid var(--tier-c)}.similar-items-section{margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--bg-subtle)}.similar-items-section h3{font-size:1rem;color:var(--text-primary);margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}.similar-items-grid{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem;scroll-snap-type:x proximity}.similar-item-card{flex-shrink:0;width:150px;padding:.75rem;background:var(--bg-elevated);border-radius:8px;border:1px solid var(--bg-subtle);cursor:pointer;transition:all var(--transition-base) ease;scroll-snap-align:start}.similar-item-card:hover{transform:translateY(-2px);border-color:var(--accent);box-shadow:0 4px 12px #0003}.similar-item-card .similar-item-image{width:48px;height:48px;object-fit:contain;margin:0 auto .5rem;display:block;border-radius:4px;background:var(--bg-subtle)}.similar-item-card .similar-item-name{font-size:.8rem;font-weight:600;color:var(--text-primary);text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.similar-item-card .similar-item-reason{font-size:.7rem;color:var(--text-secondary);text-align:center;margin-top:.25rem}body.modal-open{overflow:hidden}.recently-viewed-section{margin-bottom:1.5rem;padding:1rem;background:var(--bg-elevated);border-radius:8px;border:1px solid var(--bg-subtle)}.recently-viewed-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.recently-viewed-header h3{font-size:.9rem;color:var(--text-secondary);font-weight:600;display:flex;align-items:center;gap:.5rem}.recently-viewed-header .clear-recent-btn{background:transparent;border:none;color:var(--text-secondary);font-size:.75rem;cursor:pointer;padding:.25rem .5rem;border-radius:4px;transition:all .2s ease}.recently-viewed-header .clear-recent-btn:hover{color:var(--accent);background:var(--bg-subtle)}.recently-viewed-items{display:flex;gap:.75rem;overflow-x:auto;padding-bottom:.5rem;scrollbar-width:thin;scroll-snap-type:x mandatory}.recent-item{display:flex;flex-direction:column;align-items:center;gap:.375rem;padding:.5rem;background:var(--bg-subtle);border-radius:8px;cursor:pointer;transition:all var(--transition-base) ease;min-width:70px;text-align:center;scroll-snap-align:start}.recent-item:hover{background:var(--bg-primary);transform:translateY(-2px)}.recent-item .recent-image{width:40px;height:40px;object-fit:contain;border-radius:4px}.recent-item .recent-name{font-size:.7rem;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:60px}.random-build-section{background:var(--bg-elevated);border-radius:12px;padding:1.5rem;margin-bottom:2rem;border:1px solid var(--bg-subtle)}.random-build-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.random-build-header h3{font-size:1.25rem;color:var(--text-primary);display:flex;align-items:center;gap:.5rem}.random-build-constraints{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:1rem}.constraint-toggle{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:var(--bg-subtle);border:1px solid transparent;border-radius:20px;cursor:pointer;transition:all .2s ease;font-size:.85rem;color:var(--text-secondary)}.constraint-toggle:hover{border-color:var(--accent)}.constraint-toggle.active{background:var(--accent);color:#fff;border-color:var(--accent)}.constraint-toggle input{display:none}.generate-random-btn{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:1rem;background:linear-gradient(135deg,var(--accent) 0%,#ff8a65 100%);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.generate-random-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #e9456066}.generate-random-btn:active{transform:translateY(0)}.random-build-result{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--bg-subtle)}.random-build-result h4{font-size:1rem;color:var(--text-secondary);margin-bottom:1rem}.random-build-preview{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem}.random-build-slot{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.75rem;background:var(--bg-subtle);border-radius:8px;text-align:center}.random-build-slot .slot-label{font-size:.7rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.random-build-slot .slot-image{width:48px;height:48px;object-fit:contain;border-radius:4px;background:var(--bg-primary)}.random-build-slot .slot-name{font-size:.8rem;font-weight:600;color:var(--text-primary)}.random-build-actions{display:flex;gap:1rem;margin-top:1rem;flex-wrap:wrap}.random-build-actions button{flex:1;min-width:150px}.formula-container{font-family:"Cambria Math",Times New Roman,Georgia,serif;font-style:italic;line-height:1.4}.formula-display{display:block;text-align:center;font-size:1.1em;margin:.5rem 0}.formula-fraction{display:inline-flex;flex-direction:column;text-align:center;vertical-align:middle;margin:0 .2em;font-size:.9em}.formula-num{border-bottom:1px solid var(--text-primary);padding:0 .3em .15em}.formula-den{padding:.15em .3em 0}.formula-var{color:var(--accent);font-weight:500}.formula-op{color:var(--text-secondary);padding:0 .15em}.formula-eq{color:var(--text-primary);padding:0 .3em}.formula-text{font-style:italic;color:var(--text-secondary)}.toast-container{position:fixed;bottom:100px;right:20px;z-index:2000;display:flex;flex-direction:column;gap:.5rem}.toast{background:var(--bg-elevated);color:var(--text-primary);padding:1rem 1.5rem;border-radius:8px;box-shadow:0 4px 12px #0000004d;border-left:4px solid var(--accent);animation:slideInRight .3s ease}@keyframes slideInRight{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.toast.success{border-left-color:var(--tier-s)}.toast.error{border-left-color:var(--tier-c)}.toast.warning{border-left-color:var(--tier-b)}.floating-compare-btn{position:fixed;bottom:100px;left:50%;transform:translate(-50%);background:var(--accent);color:#fff;border:none;padding:1rem 2rem;border-radius:30px;font-weight:600;cursor:pointer;box-shadow:0 4px 12px #e9456066;transition:all .2s ease;z-index:50}.floating-compare-btn:hover{transform:translate(-50%) translateY(-2px);box-shadow:0 6px 20px #e9456080}.compare-count{background:#fff;color:var(--accent);padding:.25rem .5rem;border-radius:10px;margin-right:.5rem;font-size:.9rem}.update-notification{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background:var(--bg-elevated);border:2px solid var(--accent);border-radius:12px;padding:1rem;box-shadow:0 4px 20px #0000004d;z-index:1001;animation:slideUp .3s ease}.update-content{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.update-icon{font-size:1.5rem}.update-message strong{display:block;color:var(--text-primary)}.update-message p{font-size:.85rem;color:var(--text-secondary);margin:0}.update-btn{background:var(--accent);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;font-weight:600;cursor:pointer}.update-dismiss-btn{background:transparent;color:var(--text-secondary);border:1px solid var(--text-secondary);padding:.5rem 1rem;border-radius:6px;cursor:pointer}.keyboard-shortcuts-modal{background:var(--bg-elevated);border-radius:12px;padding:1.5rem;max-width:500px;margin:2rem auto}.shortcut-row{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid var(--bg-subtle)}.shortcut-row:last-child{border-bottom:none}.shortcut-key{background:var(--bg-subtle);padding:.25rem .5rem;border-radius:4px;font-family:monospace;font-size:.9rem;border:1px solid rgba(255,255,255,.1)}.shortcut-description{color:var(--text-secondary)}.calculator-container{max-width:1000px;margin:0 auto;padding:2rem}.calculator-subtitle{text-align:center;color:var(--text-muted);margin-bottom:2rem}.calculator-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem;margin-bottom:3rem}.calculator-card{background:var(--bg-light);padding:1.5rem;border-radius:12px;border:2px solid var(--accent)}.calculator-card.full-width{grid-column:1 / -1}.calculator-card h3{color:var(--accent);margin-bottom:1rem;font-size:1.1rem}.calc-select,.calc-input{width:100%;padding:.75rem;background:var(--bg-dark);color:var(--text-primary);border:2px solid var(--accent);border-radius:6px;font-size:1rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.calc-select{background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e94560' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:36px;cursor:pointer}.calc-select:focus,.calc-input:focus{outline:none;border-color:var(--accent-hover)}.input-hint{margin-top:.5rem;font-size:.85rem;color:var(--text-muted)}.calc-btn{width:100%;padding:1.25rem;font-size:1.1rem}.calculator-result{grid-column:1 / -1;background:var(--bg-light);border:3px solid var(--accent);border-radius:12px;padding:2rem;animation:slideDown .3s ease}@keyframes slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.calc-result-content h3{text-align:center;color:var(--accent);margin-bottom:1.5rem}.result-main{background:var(--bg-dark);padding:1.5rem;border-radius:8px;margin-bottom:1.5rem}.result-item{display:flex;justify-content:space-between;padding:.75rem;border-bottom:1px solid rgba(255,255,255,.1)}.result-item:last-child{border-bottom:none}.result-item.highlight{background:#00ff881a;border-radius:6px;border:2px solid var(--accent)}.result-label{color:var(--text-muted)}.result-value{color:var(--text-primary)}.result-value.large{font-size:1.8rem;color:var(--accent)}.result-details{background:var(--bg-dark);padding:1.5rem;border-radius:8px;margin-bottom:1.5rem}.result-details p{margin:.75rem 0}.result-graph h4{color:var(--accent);margin-bottom:1rem}.mini-bar-graph{display:flex;align-items:flex-end;justify-content:space-around;height:150px;background:var(--bg-dark);padding:1rem;border-radius:8px;gap:.5rem}.bar-container{flex:1;display:flex;flex-direction:column;align-items:center;height:100%;justify-content:flex-end}.bar{width:100%;background:linear-gradient(180deg,var(--accent) 0%,var(--accent-hover) 100%);border-radius:4px 4px 0 0;transition:all .3s ease;min-height:5px}.bar.target-bar{background:linear-gradient(180deg,var(--legendary) 0%,#ff8c00 100%);box-shadow:0 0 15px #ffa50080}.bar-label{margin-top:.5rem;font-size:.8rem;color:var(--text-muted)}.common-breakpoints{margin-top:3rem}.common-breakpoints h3{color:var(--accent);margin-bottom:1.5rem;text-align:center}.breakpoint-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,250px),1fr));gap:1rem}button.breakpoint-card{font-family:inherit;font-size:inherit;text-align:left;color:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none}.breakpoint-card{background:var(--bg-light);padding:1.5rem;border-radius:12px;border:2px solid var(--accent);display:flex;align-items:center;gap:1rem;cursor:pointer;transition:all .3s ease}.breakpoint-card:hover{transform:translateY(-4px);box-shadow:0 4px 20px #0000004d;border-color:var(--accent-hover)}.breakpoint-card:focus-visible{outline:2px solid var(--accent);outline-offset:3px;box-shadow:0 0 0 4px #e9456040}.bp-icon{font-size:2.5rem;flex-shrink:0}.bp-text{flex:1}.bp-text strong{display:block;color:var(--accent);margin-bottom:.25rem}.bp-text span{color:var(--text-muted);font-size:.9rem}.bp-answer{background:var(--accent);color:#fff;padding:.5rem 1rem;border-radius:20px;font-weight:700;font-size:.9rem}.build-planner{max-width:1200px;margin:0 auto}.build-section{text-align:center;margin-bottom:2rem}.build-section h2{color:var(--accent);margin-bottom:.5rem}.build-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem;margin-bottom:2rem}.build-slot{background:var(--bg-light);padding:1.5rem;border-radius:12px;box-shadow:0 4px 6px #0003}.build-slot.full-width{grid-column:1 / -1}.build-slot h3{margin-bottom:1rem;color:var(--legendary)}.build-analysis{background:var(--bg-light);padding:2rem;border-radius:12px;margin-bottom:2rem}.build-analysis h3{margin-bottom:1.5rem;color:var(--accent)}.build-stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,180px),1fr));gap:1rem;margin-bottom:2rem}.build-stat-item{background:var(--bg-dark);padding:1rem;border-radius:8px;text-align:center}.build-stat-label{color:var(--text-muted);font-size:.9rem}.build-stat-value{color:var(--accent);font-size:1.5rem;font-weight:700;margin-top:.5rem}.build-synergies-display{background:var(--bg-dark);padding:1.5rem;border-radius:8px}.build-actions{display:flex;gap:1rem;justify-content:center}@media(max-width:768px){.calculator-container{padding:1.5rem}.calculator-grid,.breakpoint-grid,.build-grid{grid-template-columns:1fr}.build-slot.full-width{grid-column:1}.build-stats-grid{grid-template-columns:repeat(2,1fr)}.build-actions{flex-wrap:wrap}.build-actions button{flex:1 1 calc(50% - .5rem);min-width:140px}}.compare-checkbox-label{display:inline-flex;align-items:center;gap:.25rem;cursor:pointer;margin-left:.5rem}.compare-checkbox{display:none}.compare-checkbox+span{opacity:.3;transition:all var(--transition-slow) ease;font-size:1.2rem}.compare-checkbox:checked+span{opacity:1;transform:scale(1.2)}.compare-checkbox-label:hover span{opacity:.7}.favorite-btn{background:none;border:none;font-size:1.3rem;cursor:pointer;opacity:.7;transition:all var(--transition-base) ease;padding:.25rem;margin-left:auto;margin-right:.5rem;line-height:1}.favorite-btn:hover{opacity:1;transform:scale(1.15)}.favorite-btn.favorited{opacity:1;animation:pulse .3s ease}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}.floating-compare-btn{position:fixed;bottom:2rem;right:2rem;background:var(--accent);color:#fff;border:none;border-radius:50px;padding:1rem 2rem;font-size:1rem;font-weight:700;cursor:pointer;box-shadow:0 4px 20px #0000004d;z-index:900;transition:all var(--transition-slow) ease;display:flex;align-items:center;gap:.5rem;bottom:max(2rem,calc(2rem + env(safe-area-inset-bottom)));right:max(2rem,calc(2rem + env(safe-area-inset-right)))}.floating-compare-btn:hover{transform:scale(1.05);box-shadow:0 6px 30px #0006}.compare-count{background:#ffffff4d;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-weight:700}.modal-wide{max-width:1400px!important}.compare-container{padding:1rem 0}.compare-chart-section{margin-bottom:2rem;padding:1.5rem;background:var(--bg-dark);border-radius:12px}.compare-chart-section h3{color:var(--text-primary);margin-bottom:1rem;text-align:center;font-size:1.25rem}.compare-chart-container{width:100%;height:300px}.compare-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,350px),1fr));gap:1.5rem}.compare-column{background:var(--bg-light);border-radius:12px;padding:1.5rem;border:2px solid var(--accent)}.compare-header{text-align:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid var(--accent)}.compare-header h3{margin-bottom:.5rem;color:var(--accent)}.compare-section{margin-bottom:1.5rem;padding:1rem;background:var(--bg-dark);border-radius:8px}.compare-section h4{color:var(--accent);font-size:.9rem;margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.5px}.compare-section p{margin:0;line-height:1.6}.positive{color:var(--common);font-weight:700}.negative{color:var(--rare);font-weight:700}.formula-code{display:block;background:var(--bg-medium);padding:.75rem;border-radius:6px;font-family:Courier New,monospace;font-size:.85rem;color:var(--accent);overflow-x:auto}.scaling-values{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(100%,80px),1fr));gap:.5rem}.scale-value{background:var(--bg-medium);padding:.5rem;border-radius:6px;text-align:center;font-size:.85rem}.scale-value strong{color:var(--accent)}.synergy-tags,.antisynergy-tags{display:flex;flex-wrap:wrap;gap:.5rem}.antisynergy-tag{background:#d9534f33;color:var(--rare);padding:.5rem 1rem;border-radius:20px;font-size:.85rem;border:1px solid var(--rare)}.notes{font-style:italic;color:var(--text-muted);font-size:.9rem}.remove-compare-btn{width:100%;padding:.75rem;background:var(--tier-c);color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:700;margin-top:1rem;transition:all var(--transition-slow) ease}.remove-compare-btn:hover{background:color-mix(in srgb,var(--tier-c) 80%,black);transform:scale(1.02)}@media(max-width:768px){.compare-grid{grid-template-columns:1fr}.compare-chart-container{height:250px}.floating-compare-btn{bottom:1rem;right:1rem;padding:.75rem 1.5rem;font-size:.9rem}}.advisor-container{max-width:1200px;margin:0 auto;padding:2rem}.advisor-header{text-align:center;margin-bottom:3rem}.advisor-header h2{font-size:2.5rem;margin-bottom:.5rem;color:var(--text-primary)}.advisor-subtitle{font-size:1.1rem;color:var(--text-secondary)}.advisor-section{background:var(--bg-elevated);border-radius:12px;padding:2rem;margin-bottom:2rem;border:1px solid rgba(255,255,255,.05)}.advisor-section h3{font-size:1.5rem;margin-bottom:1.5rem;color:var(--text-primary)}.advisor-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.advisor-input-group{display:flex;flex-direction:column;gap:.5rem}.advisor-input-group.full-width{grid-column:1 / -1}.advisor-input-group label{font-weight:600;color:var(--text-primary);font-size:.95rem}.advisor-select{padding:.75rem;background:var(--bg-subtle);border:1px solid rgba(255,255,255,.1);border-radius:8px;color:var(--text-primary);font-size:1rem;cursor:pointer;transition:all .2s}.advisor-select:hover{border-color:var(--accent)}.advisor-select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px #e945601a}.advisor-chips-container{display:flex;flex-wrap:wrap;gap:.75rem;min-height:50px;align-items:flex-start}.advisor-chip{display:inline-flex;align-items:center;gap:.5rem;background:var(--bg-subtle);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:.5rem 1rem;font-size:.9rem}.advisor-chip .chip-name{color:var(--text-primary)}.advisor-chip .chip-remove{background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:1.2rem;line-height:1;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center;transition:color .2s}.advisor-chip .chip-remove:hover{color:var(--accent)}.advisor-add-btn{background:var(--bg-subtle);border:2px dashed rgba(255,255,255,.2);border-radius:8px;padding:.75rem 1.5rem;color:var(--text-secondary);cursor:pointer;font-size:.95rem;transition:all .2s}.advisor-add-btn:hover{border-color:var(--accent);color:var(--accent);background:var(--bg-elevated)}.advisor-choices-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.advisor-choice-card{background:var(--bg-subtle);border-radius:8px;padding:1.5rem;border:1px solid rgba(255,255,255,.05)}.advisor-choice-card .advisor-input-group{margin-bottom:1rem}.advisor-choice-card .advisor-input-group:last-child{margin-bottom:0}.advisor-action{display:flex;justify-content:center;margin:2rem 0}.advisor-btn{padding:1rem 3rem;font-size:1.2rem;font-weight:600;border-radius:10px;transition:all .2s}.advisor-btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px #e945604d}.advisor-results{margin-top:3rem}.advisor-results h3{font-size:2rem;text-align:center;margin-bottom:2rem;color:var(--text-primary)}#advisor-results-content{display:flex;flex-direction:column;gap:1.5rem}.advisor-result-card{background:var(--bg-elevated);border-radius:12px;padding:2rem;border:1px solid rgba(255,255,255,.1);transition:all .3s}.advisor-result-card.top-recommendation{border:2px solid var(--accent);box-shadow:0 8px 24px #e9456033}.advisor-result-card:hover{transform:translateY(-4px);box-shadow:0 12px 32px #0000004d}.result-header{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.result-rank{font-size:1.2rem;font-weight:700;color:var(--accent)}.result-title{font-size:1.5rem;font-weight:700;color:var(--text-primary);flex:1}.result-tier{padding:.25rem .75rem;border-radius:6px;font-weight:700;font-size:.9rem}.result-tier.tier-ss{background:var(--tier-ss);color:#000}.result-tier.tier-s{background:var(--tier-s);color:#000}.result-tier.tier-a{background:var(--tier-a);color:#fff}.result-tier.tier-b{background:var(--tier-b);color:#000}.result-tier.tier-c{background:var(--tier-c);color:#fff}.result-score{color:var(--text-secondary);margin-bottom:1rem;font-size:.95rem}.result-section{margin-top:1rem}.result-section strong{color:var(--text-primary);display:block;margin-bottom:.5rem}.result-section ul{list-style:none;padding:0;margin:0}.result-section li{padding:.4rem 0;color:var(--text-secondary);line-height:1.5}.result-section li.synergy{color:var(--tier-s)}.result-section li.warning{color:var(--tier-b)}.result-section.warnings{background:#f59e0b1a;padding:1rem;border-radius:8px;border-left:3px solid var(--tier-b)}.advisor-entity-modal .modal-content{max-width:600px}.advisor-entity-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;max-height:500px;overflow-y:auto;padding:1rem 0}.advisor-entity-card{background:var(--bg-elevated);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:1rem;cursor:pointer;transition:all .2s;text-align:left}.advisor-entity-card:hover{border-color:var(--accent);transform:translateY(-2px);box-shadow:0 4px 12px #e9456033}.advisor-entity-card .entity-name{font-weight:600;color:var(--text-primary);margin-bottom:.5rem}.advisor-entity-card .entity-tier{font-size:.85rem;font-weight:600;padding:.25rem .5rem;border-radius:4px;display:inline-block;background:var(--bg-subtle);color:var(--text-secondary)}@media(max-width:768px){.advisor-container{padding:1rem}.advisor-header h2{font-size:2rem}.advisor-section{padding:1.5rem}.advisor-grid,.advisor-choices-grid{grid-template-columns:1fr}.advisor-btn{width:100%;padding:.875rem 2rem;font-size:1.1rem}.result-header{flex-direction:column;align-items:flex-start}.result-title{font-size:1.25rem}}[data-theme=light] .advisor-section{background:#fff;border-color:#0000001a}[data-theme=light] .advisor-select{background:#f5f5f5;border-color:#0003;color:#000}[data-theme=light] .advisor-chip{background:#f5f5f5;border-color:#0000001a}[data-theme=light] .advisor-chip .chip-name{color:#000}[data-theme=light] .advisor-result-card{background:#fff;border-color:#0000001a}[data-theme=light] .result-section.warnings{background:#f59e0b26}.scan-section{background:linear-gradient(135deg,var(--bg-elevated) 0%,rgba(0,255,136,.03) 100%);border:2px solid rgba(0,255,136,.2)!important}.scan-subtitle{font-size:1rem;color:var(--text-secondary);margin-top:.5rem}.scan-upload-area{text-align:center;padding:2rem;background:var(--bg-primary);border-radius:8px;border:2px dashed rgba(0,255,136,.3);margin-bottom:1.5rem;transition:all .3s ease}.scan-upload-area:hover{border-color:var(--accent-primary);background:#00ff880d}.scan-upload-btn{font-size:1.1rem;padding:1rem 2rem;margin-bottom:.5rem}.scan-hint{font-size:.9rem;color:var(--text-secondary);margin-top:.5rem}.scan-image-preview{margin-bottom:2rem}.scan-image-wrapper{position:relative;border-radius:8px;overflow:hidden;box-shadow:0 4px 12px #0000004d}.scan-preview-image{width:100%;max-height:400px;object-fit:contain;display:block;background:var(--bg-primary)}.scan-clear-btn{position:absolute;top:10px;right:10px;background:#ff3b30e6;color:#fff;border:none;border-radius:50%;width:36px;height:36px;font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;z-index:10}.scan-clear-btn:hover{background:#ff3b30;transform:scale(1.1)}.scan-selection-area{margin-top:2rem}.scan-selection-group{margin-bottom:2rem}.scan-selection-group.full-width{grid-column:1 / -1}.scan-selection-group h4{font-size:1.2rem;margin-bottom:1rem;color:var(--text-primary)}.scan-selection-columns{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin-bottom:2rem}.scan-character-grid,.scan-weapon-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.75rem;max-height:300px;overflow-y:auto;padding:.5rem;background:var(--bg-primary);border-radius:8px}.scan-entity-card{background:var(--bg-elevated);border:2px solid transparent;border-radius:8px;padding:.75rem;cursor:pointer;transition:all .2s ease;text-align:center}.scan-entity-card:hover{border-color:var(--accent-primary);transform:translateY(-2px);box-shadow:0 4px 8px #0f83}.scan-entity-card.selected{border-color:var(--accent-primary);background:#00ff881a;box-shadow:0 0 16px #00ff884d}.scan-entity-name{font-weight:600;font-size:.9rem;margin-bottom:.5rem;color:var(--text-primary)}.scan-entity-tier{font-size:.8rem;padding:.25rem .5rem;border-radius:4px;display:inline-block}.scan-search-input{width:100%;padding:.75rem 1rem;background:var(--bg-primary);border:1px solid rgba(255,255,255,.1);border-radius:8px;color:var(--text-primary);font-size:1rem;margin-bottom:1rem;transition:all .2s ease}.scan-search-input:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #00ff881a}.scan-item-grid,.scan-tome-grid{background:var(--bg-primary);border-radius:8px;padding:1rem}.scan-grid-items{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.75rem;max-height:400px;overflow-y:auto;padding:.5rem}.scan-item-card{background:var(--bg-elevated);border:2px solid transparent;border-radius:8px;padding:.75rem;display:flex;justify-content:space-between;align-items:center;transition:all .2s ease}.scan-item-card.selected{border-color:var(--accent-primary);background:#00ff880d}.scan-item-info{flex:1}.scan-item-name{font-weight:600;font-size:.9rem;color:var(--text-primary);margin-bottom:.25rem}.scan-item-tier{font-size:.75rem;padding:.2rem .4rem;border-radius:4px;display:inline-block}.scan-item-controls{display:flex;align-items:center;gap:.5rem}.scan-count-btn{background:var(--accent-primary);color:var(--bg-primary);border:none;border-radius:50%;width:28px;height:28px;font-size:1.2rem;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;line-height:1}.scan-count-btn:hover{background:var(--accent-secondary);transform:scale(1.1)}.scan-count-btn:active{transform:scale(.95)}.scan-count-display{font-weight:600;font-size:1.1rem;min-width:24px;text-align:center;color:var(--text-primary)}.scan-tome-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:.75rem;max-height:300px;overflow-y:auto;padding:1rem}.scan-tome-card{background:var(--bg-elevated);border:2px solid transparent;border-radius:8px;padding:.75rem;cursor:pointer;transition:all .2s ease;text-align:center}.scan-tome-card:hover{border-color:var(--accent-primary);transform:translateY(-2px)}.scan-tome-card.selected{border-color:var(--accent-primary);background:#00ff881a;box-shadow:0 0 12px #0f83}.scan-tome-name{font-weight:600;font-size:.9rem;margin-bottom:.5rem;color:var(--text-primary)}.scan-tome-tier{font-size:.8rem;padding:.25rem .5rem;border-radius:4px;display:inline-block}.scan-summary-container{background:var(--bg-elevated);border-radius:8px;padding:1.5rem;margin-top:2rem;border:1px solid rgba(255,255,255,.1)}.scan-selection-summary{margin-bottom:1.5rem}.scan-selection-summary h4{font-size:1.2rem;margin-bottom:1rem;color:var(--accent-primary)}.scan-summary-item{padding:.5rem 0;font-size:1rem;color:var(--text-primary)}.scan-summary-section{margin-top:1rem}.scan-summary-section strong{color:var(--accent-primary);display:block;margin-bottom:.5rem}.scan-summary-section ul{list-style:none;padding:0;margin:0}.scan-summary-section li{padding:.25rem 0 .25rem 1.5rem;color:var(--text-secondary)}.scan-apply-btn{width:100%;padding:1rem;font-size:1.1rem;font-weight:600}.scan-character-grid::-webkit-scrollbar,.scan-weapon-grid::-webkit-scrollbar,.scan-grid-items::-webkit-scrollbar,.scan-tome-grid::-webkit-scrollbar{width:8px}.scan-character-grid::-webkit-scrollbar-track,.scan-weapon-grid::-webkit-scrollbar-track,.scan-grid-items::-webkit-scrollbar-track,.scan-tome-grid::-webkit-scrollbar-track{background:var(--bg-primary);border-radius:4px}.scan-character-grid::-webkit-scrollbar-thumb,.scan-weapon-grid::-webkit-scrollbar-thumb,.scan-grid-items::-webkit-scrollbar-thumb,.scan-tome-grid::-webkit-scrollbar-thumb{background:var(--accent-primary);border-radius:4px}.scan-character-grid::-webkit-scrollbar-thumb:hover,.scan-weapon-grid::-webkit-scrollbar-thumb:hover,.scan-grid-items::-webkit-scrollbar-thumb:hover,.scan-tome-grid::-webkit-scrollbar-thumb:hover{background:var(--accent-secondary)}.scan-auto-detect-area{text-align:center;padding:1.5rem;background:linear-gradient(135deg,#8a2be21a,#00ff881a);border-radius:8px;border:2px dashed rgba(138,43,226,.4);margin:1.5rem 0}.scan-auto-detect-btn{font-size:1.1rem;padding:1rem 2rem;background:linear-gradient(135deg,#8a2be2,#0f8);border:none;position:relative;overflow:hidden}.scan-auto-detect-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.scan-auto-detect-btn:hover:before{left:100%}.scan-progress-overlay{position:absolute;inset:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:20;border-radius:8px}.scan-progress-content{text-align:center;max-width:400px;padding:2rem}.scan-progress-spinner{width:60px;height:60px;border:4px solid rgba(0,255,136,.2);border-top-color:var(--accent-primary);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 1.5rem}.scan-progress-text{font-size:1rem;color:var(--text-primary);margin-bottom:1rem;font-weight:500}.scan-progress-bar{width:100%;height:8px;background:#ffffff1a;border-radius:4px;overflow:hidden}.scan-progress-fill{height:100%;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary));transition:width .3s ease;border-radius:4px}.scan-detection-info{margin:1.5rem 0;padding:1.5rem;background:var(--bg-elevated);border-radius:8px;border:1px solid rgba(138,43,226,.3)}.scan-detection-results h4{font-size:1.2rem;margin-bottom:1rem;color:var(--accent-primary)}.scan-detection-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid rgba(255,255,255,.05)}.scan-detection-item:last-child{border-bottom:none}.scan-detection-item span{color:var(--text-primary)}.scan-detection-item .confidence{font-weight:600;padding:.25rem .75rem;border-radius:12px;font-size:.9rem}.scan-detection-item .confidence.confidence-high{background:#0f83;color:#0f8;border:1px solid rgba(0,255,136,.4)}.scan-detection-item .confidence.confidence-medium{background:#ffc10733;color:#ffc107;border:1px solid rgba(255,193,7,.4)}.scan-detection-item .confidence.confidence-low{background:#ff634733;color:tomato;border:1px solid rgba(255,99,71,.4)}.scan-low-confidence-warning{margin:1rem 0;padding:.75rem 1rem;background:#ff634726;border:1px solid rgba(255,99,71,.4);border-radius:6px;color:tomato;font-size:.9rem}.scan-low-confidence-warning strong{display:block;margin-bottom:.25rem}.scan-detection-stats{display:flex;gap:1rem;margin:.75rem 0;padding:.5rem 0;border-bottom:1px solid rgba(255,255,255,.1);flex-wrap:wrap}.scan-detection-stat{display:flex;align-items:center;gap:.5rem;font-size:.85rem}.scan-detection-stat .stat-count{font-weight:700}.scan-detection-stat.stat-high .stat-count{color:#0f8}.scan-detection-stat.stat-medium .stat-count{color:#ffc107}.scan-detection-stat.stat-low .stat-count{color:tomato}.scan-detection-section{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(255,255,255,.1)}.scan-detection-section strong{display:block;margin-bottom:.5rem;color:var(--accent-primary)}.scan-detection-hint{margin-top:1rem;padding:.75rem;background:#00ff881a;border-radius:6px;font-size:.9rem;color:var(--text-secondary);border-left:3px solid var(--accent-primary)}.scan-detect-buttons{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.scan-hybrid-detect-btn{background:linear-gradient(135deg,#ff6b6b,#4ecdc4,#45b7d1);position:relative;overflow:hidden;font-weight:600}.scan-hybrid-detect-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transition:left .6s}.scan-hybrid-detect-btn:hover:before{left:100%}.scan-hybrid-detect-btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px #ff6b6b66}@media(max-width:768px){.scan-selection-columns{grid-template-columns:1fr}.scan-character-grid,.scan-weapon-grid{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));max-height:200px}.scan-grid-items{grid-template-columns:1fr;max-height:300px}.scan-tome-grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));max-height:200px}.scan-preview-image{max-height:300px}.scan-upload-area{padding:1.5rem}.scan-detect-buttons{grid-template-columns:1fr}.scan-auto-detect-btn,.scan-hybrid-detect-btn{font-size:1rem;padding:.9rem 1.5rem}}[data-theme=light] .scan-section{background:linear-gradient(135deg,#fff,#00ff880d)}[data-theme=light] .scan-upload-area{background:#f5f5f5;border-color:#00ff8880}[data-theme=light] .scan-search-input{background:#f5f5f5;color:#000;border-color:#0003}[data-theme=light] .scan-entity-card,[data-theme=light] .scan-item-card,[data-theme=light] .scan-tome-card{background:#f5f5f5}[data-theme=light] .scan-entity-card.selected,[data-theme=light] .scan-item-card.selected,[data-theme=light] .scan-tome-card.selected{background:#00ff8826}[data-theme=light] .scan-summary-container{background:#f5f5f5;border-color:#0000001a}[data-theme=light] .scan-item-grid,[data-theme=light] .scan-tome-grid,[data-theme=light] .scan-character-grid,[data-theme=light] .scan-weapon-grid{background:#f5f5f5}[data-theme=light] .scan-auto-detect-area{background:linear-gradient(135deg,#8a2be226,#00ff8826)}[data-theme=light] .scan-detection-info{background:#f5f5f5;border-color:#8a2be266}[data-theme=light] .scan-detection-item{border-bottom-color:#0000001a}[data-theme=light] .scan-detection-hint{background:#0f83}[data-theme=light] .scan-hybrid-detect-btn{color:#fff}.build-scan-modal .modal-content{max-width:900px;max-height:90vh;overflow-y:auto}.build-scan-processing{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2rem}.build-scan-image-preview{max-width:100%;max-height:300px;overflow:hidden;border-radius:8px;border:2px solid var(--bg-subtle)}.build-scan-image-preview img{max-width:100%;max-height:300px;object-fit:contain;display:block}.build-scan-progress{width:100%;max-width:400px;text-align:center}.build-scan-progress-bar{width:100%;height:8px;background:var(--bg-subtle);border-radius:4px;overflow:hidden;margin-bottom:.75rem}.build-scan-progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),#00ff88);border-radius:4px;transition:width .3s ease}.build-scan-progress-text{color:var(--text-secondary);font-size:.9rem}.build-scan-preview{display:grid;grid-template-columns:1fr 1fr;gap:2rem;padding:1rem}@media(max-width:768px){.build-scan-preview{grid-template-columns:1fr}}.build-scan-results{display:flex;flex-direction:column;gap:1rem}.build-scan-results h3{color:var(--text-primary);margin-bottom:.5rem}.build-scan-stats{display:flex;gap:1rem;flex-wrap:wrap;padding:.75rem;background:var(--bg-subtle);border-radius:8px;font-size:.9rem}.build-scan-stats span{color:var(--text-secondary)}.build-scan-empty{color:var(--text-secondary);font-style:italic;padding:2rem;text-align:center;background:var(--bg-subtle);border-radius:8px}.build-scan-section{margin-bottom:1rem}.build-scan-section h4{color:var(--text-secondary);font-size:.85rem;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.build-scan-entity{padding:.5rem 1rem;background:var(--bg-subtle);border-radius:6px;font-weight:600}.build-scan-items-list{display:flex;flex-direction:column;gap:.5rem;max-height:200px;overflow-y:auto}.build-scan-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem .75rem;background:var(--bg-subtle);border-radius:6px;border-left:3px solid transparent}.build-scan-item.confidence-high{border-left-color:#0f8}.build-scan-item.confidence-medium{border-left-color:#ffc107}.build-scan-item.confidence-low{border-left-color:tomato}.build-scan-item .item-name{font-weight:500}.build-scan-item .item-confidence{font-size:.85rem;color:var(--text-secondary)}.build-scan-item.confidence-high .item-confidence{color:#0f8}.build-scan-item.confidence-medium .item-confidence{color:#ffc107}.build-scan-item.confidence-low .item-confidence{color:tomato}.build-scan-actions{grid-column:1 / -1;display:flex;justify-content:center;gap:1rem;padding-top:1rem;border-top:1px solid var(--bg-subtle)}#import-screenshot-btn{display:flex;align-items:center;gap:.5rem}.batch-empty-state{text-align:center;padding:3rem;color:var(--text-secondary)}.batch-empty-state p{margin:.5rem 0}.batch-summary{display:flex;justify-content:center;gap:2rem;padding:1rem;margin-bottom:1rem;background:var(--bg-subtle);border-radius:8px}.batch-stat{display:flex;flex-direction:column;align-items:center;gap:.25rem}.batch-stat .stat-value{font-size:1.5rem;font-weight:700;color:var(--text-primary)}.batch-stat .stat-label{font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.batch-results-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;padding:1rem 0}.batch-result-card{background:var(--bg-elevated);border-radius:8px;overflow:hidden;border:2px solid transparent;transition:border-color .2s,transform .2s}.batch-result-card:hover{border-color:var(--accent);transform:translateY(-2px)}.batch-result-card.error{border-color:tomato}.batch-thumbnail{position:relative;aspect-ratio:16 / 9;background:var(--bg-primary);overflow:hidden}.batch-thumbnail img{width:100%;height:100%;object-fit:cover}.batch-thumbnail-placeholder{display:flex;align-items:center;justify-content:center;height:100%;color:var(--text-secondary);font-size:.85rem}.batch-status-badge{position:absolute;top:.5rem;right:.5rem;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700}.batch-status-badge.status-complete{background:#0f8;color:#000}.batch-status-badge.status-error{background:tomato;color:#fff}.batch-status-badge.status-processing,.batch-status-badge.status-pending{background:var(--bg-subtle);color:var(--text-secondary)}.batch-info{padding:.75rem}.batch-filename{font-weight:600;font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.25rem}.batch-stats{display:flex;gap:.75rem;font-size:.8rem;color:var(--text-secondary)}.batch-error{font-size:.8rem;color:tomato}.batch-processing{font-size:.8rem;color:var(--text-secondary);font-style:italic}.batch-actions{display:flex;gap:.5rem;padding:0 .75rem .75rem}.batch-actions .btn-small{flex:1;padding:.4rem .5rem;font-size:.75rem;border-radius:4px;border:none;cursor:pointer;transition:background .2s}.batch-view-btn{background:var(--bg-subtle);color:var(--text-primary)}.batch-view-btn:hover{background:var(--bg-primary)}.batch-apply-btn{background:var(--accent);color:#fff}.batch-apply-btn:hover{background:var(--accent-hover)}.batch-common-items{margin-top:1rem;padding:1rem;background:var(--bg-subtle);border-radius:8px}.batch-common-items h4{margin:0 0 .75rem;font-size:.9rem;color:var(--text-secondary)}.common-items-list{display:flex;flex-wrap:wrap;gap:.5rem}.common-item{padding:.25rem .75rem;background:var(--bg-primary);border-radius:16px;font-size:.8rem;color:var(--text-primary)}.debug-panel{margin:1rem 0;background:var(--card-bg);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;transition:border-color .2s ease}.debug-panel.active{border-color:#0f8;box-shadow:0 0 12px #00ff8826}.debug-panel-header{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;background:var(--card-bg);cursor:pointer;transition:background .2s ease}.debug-panel-header:hover{background:var(--hover-bg)}.debug-toggle-main{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-size:.95rem;color:var(--text-primary)}.debug-toggle-main input[type=checkbox]{width:18px;height:18px;cursor:pointer;accent-color:#00ff88}.debug-toggle-text{font-weight:500}.debug-toggle-text:before{content:"";margin-right:.5rem}.debug-expand-btn{background:#ffffff1a;border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);width:28px;height:28px;font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.debug-expand-btn:hover{background:#0f83;border-color:#0f8;color:#0f8}.debug-expand-icon{transition:transform .2s ease;font-weight:700;line-height:1}.debug-panel.expanded .debug-expand-icon{transform:rotate(45deg)}.debug-panel-content{padding:1rem;border-top:1px solid var(--border-color);background:#0003}.debug-section{margin-bottom:1rem}.debug-section:last-of-type{margin-bottom:.5rem}.debug-section-title{font-size:.8rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 .5rem;display:flex;align-items:center;justify-content:space-between}.debug-options-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.debug-option{display:flex;align-items:center;gap:.4rem;font-size:.85rem;color:var(--text-primary);cursor:pointer;padding:.3rem .5rem;border-radius:4px;transition:background .15s ease}.debug-option:hover{background:#ffffff0d}.debug-option input[type=checkbox]{width:14px;height:14px;cursor:pointer;accent-color:#00ff88}.debug-stats{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.debug-stat{background:#0000004d;border-radius:6px;padding:.5rem .75rem;display:flex;flex-direction:column}.debug-stat-label{font-size:.7rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.3px}.debug-stat-value{font-size:1rem;font-weight:600;color:#0f8;font-family:JetBrains Mono,monospace}.debug-log-filter{font-size:.7rem;padding:.2rem .4rem;background:#0000004d;border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);cursor:pointer}.debug-log-viewer{background:#0006;border:1px solid var(--border-color);border-radius:6px;height:120px;overflow-y:auto;font-family:JetBrains Mono,monospace;font-size:.75rem;line-height:1.4}.debug-log-empty{color:var(--text-secondary);text-align:center;padding:2rem 1rem;margin:0;font-style:italic}.debug-log-entry{padding:.3rem .5rem;border-bottom:1px solid rgba(255,255,255,.05);display:flex;gap:.5rem;align-items:flex-start}.debug-log-entry:last-child{border-bottom:none}.debug-log-time{color:var(--text-secondary);flex-shrink:0}.debug-log-category{font-weight:600;flex-shrink:0;padding:0 .3rem;border-radius:2px;background:#ffffff1a}.debug-log-message{flex:1;word-break:break-word}.debug-log-entry.error{background:#ff3b301a;color:#ff6b6b}.debug-log-entry.warn{background:#ffcc001a;color:#f7dc6f}.debug-log-entry.info{color:#4ecdc4}.debug-log-entry.debug{color:#888}.debug-actions{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.75rem;padding-top:.75rem;border-top:1px solid var(--border-color)}.debug-action-btn{font-size:.75rem;padding:.4rem .75rem;background:#ffffff1a;border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);cursor:pointer;transition:all .15s ease}.debug-action-btn:hover:not(:disabled){background:#0f83;border-color:#0f8;color:#0f8}.debug-action-btn:disabled{opacity:.5;cursor:not-allowed}.debug-action-download{margin-left:auto;background:#00ff881a;border-color:#00ff884d}.debug-log-viewer::-webkit-scrollbar{width:6px}.debug-log-viewer::-webkit-scrollbar-track{background:#0003}.debug-log-viewer::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.debug-log-viewer::-webkit-scrollbar-thumb:hover{background:#ffffff4d}@media(max-width:768px){.debug-options-grid{grid-template-columns:1fr}.debug-stats{grid-template-columns:1fr 1fr}.debug-actions{flex-direction:column}.debug-action-btn{width:100%;text-align:center}.debug-action-download{margin-left:0}.debug-log-viewer{height:100px;font-size:.7rem}.debug-panel-content{padding:.75rem}}@media(max-width:480px){.debug-stats{grid-template-columns:1fr}.debug-stat{flex-direction:row;justify-content:space-between;align-items:center}.debug-section-title{flex-direction:column;align-items:flex-start;gap:.25rem}.debug-log-filter{width:100%}}.metrics-summary{background:var(--bg-elevated);border-radius:12px;padding:1.5rem;margin:1rem 0}.metrics-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid var(--bg-subtle)}.metrics-grade{display:flex;align-items:center;gap:.75rem}.metrics-grade .grade-letter{width:48px;height:48px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.75rem;font-weight:700}.metrics-grade.grade-a .grade-letter{background:#0f83;color:#0f8}.metrics-grade.grade-b .grade-letter{background:#22c55e33;color:#22c55e}.metrics-grade.grade-c .grade-letter{background:#ffc10733;color:#ffc107}.metrics-grade.grade-d .grade-letter{background:#ff980033;color:#ff9800}.metrics-grade.grade-f .grade-letter{background:#ff634733;color:tomato}.metrics-grade .grade-label{font-size:1rem;font-weight:600;color:var(--text-primary)}.metrics-confidence{text-align:right}.metrics-confidence .confidence-value{display:block;font-size:1.5rem;font-weight:700;color:var(--text-primary)}.metrics-confidence .confidence-label{font-size:.75rem;color:var(--text-secondary);text-transform:uppercase}.metrics-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}.metric-stat{text-align:center;padding:.75rem;background:var(--bg-subtle);border-radius:8px}.metric-stat .stat-value{display:block;font-size:1.25rem;font-weight:700;color:var(--text-primary)}.metric-stat .stat-label{font-size:.7rem;color:var(--text-secondary);text-transform:uppercase}.metrics-distribution{margin-bottom:1.5rem}.distribution-bar{display:flex;height:8px;border-radius:4px;overflow:hidden;margin-bottom:.5rem}.dist-segment{transition:width .3s ease}.dist-segment.dist-high{background:#0f8}.dist-segment.dist-medium{background:#ffc107}.dist-segment.dist-low{background:tomato}.distribution-legend{display:flex;justify-content:center;gap:1.5rem;font-size:.8rem}.legend-item{display:flex;align-items:center;gap:.35rem;color:var(--text-secondary)}.legend-dot{width:10px;height:10px;border-radius:2px}.legend-dot.high{background:#0f8}.legend-dot.medium{background:#ffc107}.legend-dot.low{background:tomato}.metrics-weak{margin-bottom:1rem}.metrics-weak h4{font-size:.85rem;color:var(--text-secondary);margin-bottom:.5rem}.metrics-weak ul{list-style:none;padding:0;margin:0}.metrics-weak li{display:flex;justify-content:space-between;padding:.4rem .75rem;background:var(--bg-subtle);border-radius:4px;margin-bottom:.25rem;font-size:.85rem}.weak-item-name{color:var(--text-primary)}.weak-item-conf{color:tomato;font-weight:600}.weak-more{font-size:.8rem;color:var(--text-secondary);text-align:center;margin-top:.5rem}.metrics-rarity h4{font-size:.85rem;color:var(--text-secondary);margin-bottom:.5rem}.rarity-bars{display:flex;flex-wrap:wrap;gap:.5rem}.rarity-bar{display:flex;align-items:center;gap:.5rem;padding:.35rem .75rem;border-radius:16px;font-size:.8rem}.rarity-bar.rarity-common{background:#6b9b6b33;color:var(--rarity-common)}.rarity-bar.rarity-uncommon{background:#5bb8d033;color:var(--rarity-uncommon)}.rarity-bar.rarity-rare{background:#c94de033;color:var(--rarity-rare)}.rarity-bar.rarity-epic{background:#8b5cf633;color:var(--rarity-epic)}.rarity-bar.rarity-legendary{background:#f0a80033;color:var(--rarity-legendary)}.rarity-count{font-weight:700}.system-accuracy-badge{display:inline-flex;align-items:center;gap:.75rem;padding:.5rem 1rem;background:var(--bg-subtle);border-radius:8px}.system-accuracy-badge .accuracy-grade{width:32px;height:32px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem}.system-accuracy-badge .accuracy-details{display:flex;flex-direction:column;gap:.1rem}.system-accuracy-badge .accuracy-f1{font-size:.9rem;font-weight:600}.system-accuracy-badge .accuracy-trend{font-size:.75rem}.system-accuracy-badge .accuracy-trend.improving{color:#0f8}.system-accuracy-badge .accuracy-trend.declining{color:tomato}.system-accuracy-badge .accuracy-trend.stable,.system-accuracy-badge .accuracy-trend.unknown{color:var(--text-secondary)}.metrics-compact{display:inline-flex;align-items:center;gap:.75rem;padding:.35rem .75rem;background:var(--bg-subtle);border-radius:6px;font-size:.85rem}.metrics-compact .compact-grade{font-weight:700;padding:.15rem .4rem;border-radius:4px}.metrics-compact .compact-grade.grade-a{background:#0f83;color:#0f8}.metrics-compact .compact-grade.grade-b{background:#22c55e33;color:#22c55e}.metrics-compact .compact-grade.grade-c{background:#ffc10733;color:#ffc107}.metrics-compact .compact-grade.grade-d{background:#ff980033;color:#ff9800}.metrics-compact .compact-grade.grade-f{background:#ff634733;color:tomato}.metrics-compact .compact-conf,.metrics-compact .compact-items{color:var(--text-secondary)}@media(max-width:600px){.metrics-stats{grid-template-columns:repeat(2,1fr)}.metrics-header{flex-direction:column;gap:1rem;text-align:center}.metrics-confidence{text-align:center}}.active-learning-prompt{padding:1.5rem;max-width:500px;margin:0 auto}.al-header{text-align:center;margin-bottom:1.5rem}.al-header h3{font-size:1.25rem;font-weight:700;color:var(--text-primary);margin:0 0 .5rem}.al-header p{font-size:.9rem;color:var(--text-secondary);margin:0}.al-detection{background:var(--bg-subtle);border-radius:12px;padding:1.25rem;margin-bottom:1.5rem;display:flex;flex-direction:column;align-items:center;gap:1rem}.al-crop{width:80px;height:80px;border-radius:8px;overflow:hidden;background:var(--bg-primary);border:2px solid var(--bg-elevated)}.al-crop img{width:100%;height:100%;object-fit:contain}.al-crop-placeholder{width:80px;height:80px;border-radius:8px;background:var(--bg-primary);border:2px dashed var(--text-secondary);display:flex;align-items:center;justify-content:center;font-size:.75rem;color:var(--text-secondary);text-align:center;padding:.5rem}.al-detected-info{display:flex;flex-direction:column;align-items:center;gap:.35rem}.al-label{font-size:.8rem;color:var(--text-secondary)}.al-item-name{font-size:1.1rem;font-weight:700;color:var(--text-primary)}.al-confidence{font-size:.85rem;color:#ffc107;font-weight:600}.al-question{text-align:center;margin-bottom:1rem}.al-question p{font-size:1rem;font-weight:600;color:var(--text-primary);margin:0}.al-actions{display:flex;flex-direction:column;gap:.75rem}.al-btn{padding:.85rem 1.25rem;border-radius:8px;border:none;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.al-btn-correct{background:#00ff8826;color:#0f8;border:1px solid rgba(0,255,136,.3)}.al-btn-correct:hover{background:#00ff8840;transform:translateY(-2px)}.al-btn-wrong{background:#ff634726;color:tomato;border:1px solid rgba(255,99,71,.3)}.al-btn-wrong:hover{background:#ff634740;transform:translateY(-2px)}.al-btn-skip{background:var(--bg-subtle);color:var(--text-secondary);border:1px solid rgba(255,255,255,.1)}.al-btn-skip:hover{background:var(--bg-elevated);color:var(--text-primary)}.al-alternatives{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--bg-subtle)}.al-alternatives p{font-size:.9rem;color:var(--text-secondary);margin-bottom:.75rem;text-align:center}.al-alternatives-list{display:flex;flex-direction:column;gap:.5rem}.al-alternative{padding:.75rem 1rem;border-radius:8px;background:var(--bg-subtle);border:1px solid rgba(255,255,255,.1);color:var(--text-primary);font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-align:left}.al-alternative:hover{background:var(--bg-elevated);border-color:var(--accent);transform:translate(4px)}.al-alternative.al-other{background:transparent;border-style:dashed;color:var(--text-secondary);text-align:center}.al-alternative.al-other:hover{color:var(--accent);border-color:var(--accent)}.al-progress{margin-top:1.5rem;text-align:center}.al-progress-text{font-size:.85rem;color:var(--text-secondary)}.al-completion{text-align:center;padding:2rem 1.5rem}.al-completion-icon{font-size:3rem;margin-bottom:1rem}.al-completion h3{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin:0 0 .5rem}.al-completion p{font-size:.9rem;color:var(--text-secondary);margin:0}.al-completion-stats{display:flex;justify-content:center;gap:2rem;margin:1.5rem 0}.al-stat{display:flex;flex-direction:column;align-items:center;gap:.25rem}.al-stat-value{font-size:2rem;font-weight:700;color:var(--accent)}.al-stat-label{font-size:.8rem;color:var(--text-secondary)}.al-export{margin:1.5rem 0;padding:1rem;background:var(--bg-subtle);border-radius:8px}.al-export p{margin-bottom:1rem}.al-btn-export{background:#e9456026;color:var(--accent);border:1px solid rgba(233,69,96,.3);width:100%}.al-btn-export:hover{background:#e9456040;transform:translateY(-2px)}.al-btn-done{background:var(--accent);color:#fff;width:100%;margin-top:1rem}.al-btn-done:hover{opacity:.9;transform:translateY(-2px)}.al-badge{display:inline-flex;align-items:center;gap:.35rem;padding:.35rem .65rem;background:#ffc10726;border:1px solid rgba(255,193,7,.3);border-radius:16px;cursor:pointer;transition:all .2s ease}.al-badge:hover{background:#ffc10740;transform:scale(1.05)}.al-badge-icon{font-size:.9rem;font-weight:700;color:#ffc107}.al-badge-count{font-size:.8rem;font-weight:600;color:#ffc107}@media(max-width:480px){.active-learning-prompt{padding:1rem}.al-crop{width:64px;height:64px}.al-completion-stats{gap:1rem}.al-stat-value{font-size:1.5rem}}.strategy-selector{margin:1rem 0;padding:1rem;background:#ffffff0d;border-radius:8px;border:1px solid rgba(255,255,255,.1)}.strategy-selector label{display:block;margin-bottom:.5rem;font-weight:600;color:var(--text-primary)}.strategy-select{width:100%;padding:.75rem;font-size:1rem;background:#0000004d;color:var(--text-primary);border:1px solid rgba(255,255,255,.2);border-radius:6px;cursor:pointer;transition:all var(--transition-base) ease}.strategy-select:hover{border-color:#fff6;background:#0006}.strategy-select:focus{outline:none;border-color:#4a9eff;box-shadow:0 0 0 3px #4a9eff33}.strategy-select option{background:var(--bg-elevated);color:var(--text-primary)}.strategy-info{margin-top:.75rem}.strategy-details{font-size:.9rem;color:var(--text-secondary)}.strategy-details p{margin:0 0 .5rem}.strategy-metrics{display:flex;gap:1.5rem;margin-top:.5rem}.strategy-metrics .metric{font-size:.85rem}.strategy-metrics .metric strong{color:var(--tier-a)}.detection-metrics{margin:1.5rem 0;padding:1rem;background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);border-radius:8px;border:1px solid rgba(59,130,246,.3)}.detection-metrics h4{margin:0 0 1rem;color:var(--tier-a);font-size:1.1rem}.metrics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.metric-item{display:flex;flex-direction:column;gap:.25rem}.metric-label{font-size:.85rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.metric-value{font-size:1.25rem;font-weight:700;color:var(--text-primary)}.detection-progress{margin:1rem 0;padding:1rem;background:#0000004d;border-radius:6px}.progress-bar{width:100%;height:24px;background:#ffffff1a;border-radius:12px;overflow:hidden;margin-bottom:.5rem}.progress-fill{height:100%;background:linear-gradient(90deg,var(--tier-a),var(--epic));transition:width var(--transition-slow) ease;border-radius:12px}.progress-text{text-align:center;font-size:.9rem;color:var(--text-secondary)}.strategy-comparison{margin:1.5rem 0;padding:1rem;background:#0000004d;border-radius:8px;border:1px solid rgba(255,255,255,.1)}.strategy-comparison h4{margin:0 0 1rem;color:var(--text-primary)}.comparison-table{width:100%;border-collapse:collapse;font-size:.9rem}.comparison-table thead{background:#ffffff0d}.comparison-table th{padding:.75rem;text-align:left;font-weight:600;color:var(--tier-a);border-bottom:2px solid rgba(59,130,246,.3)}.comparison-table td{padding:.75rem;border-bottom:1px solid rgba(255,255,255,.1)}.comparison-table tr:hover{background:#ffffff0d}.comparison-table tr.recommended{background:#3b82f61a;font-weight:600}.comparison-table tr.recommended td:first-child{color:var(--tier-a)}.compare-strategies-btn{margin-top:.5rem;padding:.5rem 1rem;background:linear-gradient(135deg,#3b82f633,#8b5cf633);color:var(--tier-a);border:1px solid rgba(59,130,246,.4);border-radius:6px;cursor:pointer;font-size:.9rem;transition:all var(--transition-base) ease}.compare-strategies-btn:hover{background:linear-gradient(135deg,#3b82f64d,#8b5cf64d);border-color:#3b82f699;transform:translateY(-1px)}.compare-strategies-btn:active{transform:translateY(0)}@media(max-width:768px){.metrics-grid{grid-template-columns:repeat(2,1fr)}.strategy-metrics{flex-direction:column;gap:.5rem}.comparison-table{font-size:.8rem}.comparison-table th,.comparison-table td{padding:.5rem}}.shrines-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(100%,300px),1fr));gap:1.5rem}.shrine-card{background:var(--bg-light);padding:1.5rem;border-radius:12px;box-shadow:0 4px 6px #0000004d;border-top:5px solid var(--accent);transition:all .3s ease}.shrine-card:hover{transform:translateY(-4px);box-shadow:0 12px 24px #0006;border-color:#e945604d}.shrine-header{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.shrine-icon{font-size:2rem}.shrine-name{font-size:1.3rem;font-weight:700}.shrine-type{display:inline-block;padding:.25rem .75rem;background:var(--accent);border-radius:12px;font-size:.8rem;margin-top:.5rem}.shrine-description{color:var(--text-muted);margin:1rem 0;line-height:1.6}.shrine-reward{background:var(--bg-dark);padding:.75rem;border-radius:6px;border-left:3px solid var(--common);margin:1rem 0}.shrine-strategy{background:#fbbf241a;padding:.75rem;border-radius:6px;border-left:3px solid var(--legendary);font-size:.9rem;margin-top:1rem}.shrine-icon-large{font-size:2.5rem;flex-shrink:0}.shrine-icon-modal{font-size:3rem}.shrine-modal-header{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.shrine-description-full{margin:1rem 0;font-size:1.05rem}.shrine-detail-section{margin:1rem 0;padding:.75rem;background:var(--bg-dark);border-radius:6px}.shrine-detail-section strong{color:var(--accent);display:block;margin-bottom:.25rem}.shrine-strategy strong{color:var(--legendary);display:block;margin-bottom:.5rem}.item-card.shrine-card{border-left-color:var(--accent)}.character-card,.weapon-card,.tome-card{position:relative}.character-passive,.weapon-pattern,.tome-effect{background:#e945601a;padding:.75rem;border-radius:6px;border-left:3px solid var(--accent);margin:1rem 0;font-size:.9rem}.upgradeable-stats{display:flex;flex-wrap:wrap;gap:.5rem;margin:1rem 0}.stat-tag{padding:.25rem .75rem;background:var(--bg-dark);border:1px solid var(--common);border-radius:12px;font-size:.85rem}.playstyle-badge{display:inline-block;padding:.5rem 1rem;background:linear-gradient(135deg,var(--rare),var(--epic));border-radius:20px;font-size:.85rem;font-weight:700;margin-top:.5rem}.strengths-weaknesses{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin:1.5rem 0}.strengths,.weaknesses{padding:1rem;background:var(--bg-dark);border-radius:8px}.strengths{background:#5cb85c1a;border-left:3px solid var(--common)}.weaknesses{background:#dc35451a;border-left:3px solid var(--tier-c)}.strengths h4{color:var(--tier-s);margin-bottom:.75rem}.weaknesses h4{color:var(--tier-c);margin-bottom:.75rem}.strengths ul,.weaknesses ul{margin:0;padding-left:1.25rem;list-style:none}.strengths li,.weaknesses li{margin-bottom:.25rem}.strengths li:before{content:" ";color:var(--common);font-weight:700}.weaknesses li:before{content:" ";color:var(--tier-c);font-weight:700}.character-passive{margin:1rem 0;padding:1rem;background:var(--bg-dark);border-radius:8px;border-left:3px solid var(--accent)}.character-passive strong{color:var(--accent);font-size:1.1rem}.character-meta{margin:1rem 0;padding:1rem;background:var(--bg-dark);border-radius:8px}.character-meta>div{margin-bottom:.5rem}.character-meta>div:last-child{margin-bottom:0}.character-section{margin:1.5rem 0}.character-section h3{margin-bottom:.75rem;color:var(--accent)}.tag-list{display:flex;flex-wrap:wrap;gap:.5rem}.synergy-group{margin-bottom:1rem}.synergy-group h4{font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}.weapon-stats-section{margin:1rem 0;padding:1rem;background:var(--bg-dark);border-radius:8px;border-left:3px solid var(--accent)}.weapon-stats-section div{margin-bottom:.5rem}.weapon-stats-section div:last-child{margin-bottom:0}.weapon-description{margin:1rem 0;line-height:1.6}.weapon-section{margin:1.5rem 0}.weapon-section h3{margin-bottom:.75rem;color:var(--accent)}.unlock-requirement{margin-top:1.5rem;padding:.75rem 1rem;background:#f59e0b1a;border-left:3px solid var(--tier-b);border-radius:6px;color:var(--text-secondary)}.text-muted{color:var(--text-secondary);font-style:italic}.build-tips{margin-top:1.5rem;padding:1rem;background:#e945601a;border-left:3px solid var(--accent);border-radius:6px}.build-tips h3{margin-bottom:.5rem;color:var(--accent)}@media(max-width:768px){.strengths-weaknesses{grid-template-columns:1fr}}.changelog-container{max-width:900px;margin:0 auto;padding:0 1rem}.changelog-page-header{text-align:center;padding:2rem 1rem;margin-bottom:2rem;border-bottom:1px solid var(--border-color, rgba(255, 255, 255, .1))}.changelog-page-title{font-size:2rem;font-weight:700;color:var(--accent);margin:0 0 .5rem}.changelog-page-subtitle{font-size:1rem;color:var(--text-secondary);margin:0 0 1rem}.changelog-page-stats{display:flex;justify-content:center;gap:.75rem;font-size:.875rem;color:var(--text-muted)}.changelog-entry{background:var(--bg-elevated);border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;border-left:4px solid var(--accent);transition:transform .2s,box-shadow .2s}.changelog-entry:hover{transform:translateY(-2px);box-shadow:0 4px 16px #0000004d}.changelog-header{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;margin-bottom:1rem}.changelog-version{background:var(--accent);color:#fff;padding:.375rem .75rem;border-radius:6px;font-weight:700;font-size:.9rem}.changelog-title{flex:1;font-size:1.25rem;font-weight:600;color:var(--text-primary);min-width:200px}.changelog-date{color:var(--text-secondary);font-size:.875rem}.changelog-summary{color:var(--text-secondary);margin-bottom:1rem;line-height:1.6}.changelog-categories{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.category-pill{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .625rem;border-radius:999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.3px}.category-pill.balance{background:#3b82f633;color:#60a5fa}.category-pill.new_content{background:#22c55e33;color:#4ade80}.category-pill.bug_fixes{background:#a855f733;color:#c084fc}.category-pill.removed{background:#ef444433;color:#f87171}.category-pill.other{background:#9ca3af33;color:#9ca3af}.changelog-changes{display:none}.changelog-changes.expanded{display:block;animation:fadeIn .3s ease-in}.changelog-raw-notes{white-space:pre-wrap;font-size:.9rem;line-height:1.6;color:var(--text-primary);padding:1rem;background:#0003;border-radius:6px;max-height:400px;overflow-y:auto}.changelog-section{margin-bottom:1rem}.changelog-section-title{font-size:.875rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem;padding-bottom:.25rem;border-bottom:1px solid rgba(255,255,255,.1)}.changelog-item{display:flex;align-items:flex-start;gap:.5rem;padding:.5rem 0;color:var(--text-primary);font-size:.9rem;line-height:1.5}.changelog-item:before{content:"";flex-shrink:0;width:6px;height:6px;margin-top:.5rem;border-radius:50%;background:var(--text-secondary)}.changelog-item.buff:before{background:#4ade80}.changelog-item.nerf:before{background:#f87171}.changelog-item.addition:before{background:#60a5fa}.changelog-item.fix:before{background:#c084fc}.changelog-item.removal:before{background:#f87171}.changelog-item.change:before{background:var(--text-secondary)}.entity-link{color:var(--accent);text-decoration:none;font-weight:500;border-bottom:1px dashed var(--accent);transition:color .2s,border-color .2s}.entity-link:hover{color:var(--accent-hover);border-color:var(--accent-hover)}.changelog-expand-btn{width:100%;padding:.75rem;background:transparent;color:var(--text-secondary);border:1px solid rgba(255,255,255,.1);border-radius:6px;font-size:.875rem;cursor:pointer;transition:all .2s ease}.changelog-expand-btn:hover{background:#ffffff0d;color:var(--text-primary);border-color:#fff3}.changelog-steam-link{display:inline-flex;align-items:center;gap:.375rem;color:var(--text-secondary);text-decoration:none;font-size:.8rem;margin-left:auto;transition:color .2s}.changelog-steam-link:hover{color:var(--accent)}@media(max-width:768px){.changelog-header{flex-direction:column;align-items:flex-start}.changelog-title{order:1;width:100%}.changelog-version{order:2}.changelog-date{order:3}.changelog-steam-link{order:4;margin-left:0;margin-top:.5rem}}.global-search-section-header{display:flex;align-items:center;gap:.5rem;padding:1rem 0 .5rem;margin-top:1rem;border-top:1px solid var(--bg-subtle)}.global-search-section-header:first-child{margin-top:0;border-top:none;padding-top:0}.global-search-section-header .section-icon{font-size:1.25rem}.global-search-section-header .section-title{font-size:1rem;font-weight:600;color:var(--text-primary)}.global-search-section-header .section-count{font-size:.875rem;color:var(--text-secondary)}.global-search-section{display:flex;flex-direction:column;gap:.5rem;padding:.5rem 0}.search-result-card{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;background:var(--bg-elevated);border:1px solid var(--bg-subtle);border-radius:.5rem;cursor:pointer;transition:all .2s ease}.search-result-card:hover{background:var(--bg-subtle);border-color:var(--accent);transform:translate(4px)}.search-result-card:active{background:var(--bg-subtle);border-color:var(--accent);transform:scale(.98);transition:transform .1s ease}@media(pointer:coarse){.search-result-card{min-height:56px;-webkit-tap-highlight-color:transparent}}.search-result-content{display:flex;align-items:center;gap:.75rem;flex:1;min-width:0}.search-result-card .entity-image{width:40px;height:40px;border-radius:.375rem;object-fit:cover;flex-shrink:0}.search-result-icon{font-size:1.5rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.search-result-info{display:flex;flex-direction:column;gap:.25rem;min-width:0}.search-result-name{font-size:.9375rem;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-result-info .tier-label{font-size:.75rem;padding:.125rem .375rem}.search-result-description{font-size:.8125rem;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-result-action{flex-shrink:0;color:var(--text-secondary);transition:color .2s ease,transform .2s ease}.search-result-card:hover .search-result-action{color:var(--accent);transform:translate(4px)}.go-to-icon{font-size:1.25rem;font-weight:600}@media(max-width:640px){.search-result-card{padding:.625rem .75rem}.search-result-card .entity-image,.search-result-icon{width:32px;height:32px;font-size:1.25rem}.search-result-name{font-size:.875rem}.search-result-description{font-size:.75rem}.global-search-section-header .section-title{font-size:.9375rem}}.tab-content{display:none;opacity:0;transform:translateY(10px);transition:opacity .3s ease,transform .3s ease}.tab-content.active{display:block;opacity:1;transform:translateY(0);animation:fadeIn .3s ease-in}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes cardFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.items-grid .item-card{animation:cardFadeIn .3s ease forwards}.items-grid .item-card:nth-child(1){animation-delay:0ms}.items-grid .item-card:nth-child(2){animation-delay:30ms}.items-grid .item-card:nth-child(3){animation-delay:60ms}.items-grid .item-card:nth-child(4){animation-delay:90ms}.items-grid .item-card:nth-child(5){animation-delay:.12s}.items-grid .item-card:nth-child(6){animation-delay:.15s}.items-grid .item-card:nth-child(7){animation-delay:.18s}.items-grid .item-card:nth-child(8){animation-delay:.21s}.items-grid .item-card:nth-child(9){animation-delay:.24s}.items-grid .item-card:nth-child(10){animation-delay:.27s}.items-grid .item-card:nth-child(11){animation-delay:.3s}.items-grid .item-card:nth-child(12){animation-delay:.33s}.btn-primary,.btn-secondary,.view-details-btn{transition:all .2s cubic-bezier(.4,0,.2,1)}.btn-primary:active,.btn-secondary:active,.view-details-btn:active{transform:scale(.97)}@keyframes favoritePopIn{0%{transform:scale(1)}50%{transform:scale(1.3)}to{transform:scale(1)}}.favorite-btn.favorited{animation:favoritePopIn .3s ease}@keyframes searchHighlight{0%{box-shadow:0 0 0 0 var(--accent)}50%{box-shadow:0 0 0 4px var(--accent)}to{box-shadow:0 0 0 0 var(--accent)}}.search-highlight{animation:searchHighlight 1s ease-in-out 2;border-color:var(--accent)!important}@keyframes diceRoll{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(360deg)}}.generate-random-btn.rolling .dice-icon{animation:diceRoll .5s ease-in-out}.filters{transition:opacity .2s ease}.filters.updating{opacity:.5}.item-count{transition:background-color .2s ease,transform .2s ease}.item-count.updated{transform:scale(1.05)}#searchInput{transition:border-color .2s ease,box-shadow .2s ease,background-color .2s ease}.skeleton{background:linear-gradient(90deg,var(--bg-subtle) 0%,var(--bg-elevated) 50%,var(--bg-subtle) 100%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:4px}@keyframes slideUp{0%{opacity:0;transform:translate(-50%) translateY(20px)}to{opacity:1;transform:translate(-50%) translateY(0)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner{animation:spin 1s linear infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.pulse{animation:pulse 2s ease-in-out infinite}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}.loading-overlay{position:fixed;inset:0;background:#0f0f14f2;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999}.loading-spinner{width:48px;height:48px;border:4px solid var(--bg-subtle);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:1rem}.loading-overlay p{color:var(--text-secondary);font-size:1rem}@keyframes spin{to{transform:rotate(360deg)}}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.skeleton-card{background:var(--bg-elevated);border-radius:8px;padding:1.25rem;display:flex;flex-direction:column;gap:.75rem;min-height:280px;border-left:4px solid var(--bg-subtle)}.skeleton-element{background:linear-gradient(90deg,var(--bg-subtle) 25%,var(--bg-elevated) 50%,var(--bg-subtle) 75%);background-size:200% 100%;animation:shimmer 1.5s ease-in-out infinite;border-radius:4px}.skeleton-header{display:flex;align-items:flex-start;gap:1rem;margin-bottom:.5rem}.skeleton-header--centered{flex-direction:column;align-items:center;text-align:center}.skeleton-image{width:64px;height:64px;border-radius:8px;flex-shrink:0}.skeleton-image--large{width:80px;height:80px}.skeleton-image--shrine{width:72px;height:72px;border-radius:50%}.skeleton-title{flex:1;display:flex;flex-direction:column;gap:.5rem}.skeleton-name{height:1.5rem;width:70%}.skeleton-name--centered{width:50%;margin:0 auto}.skeleton-subtitle{height:1rem;width:50%}.skeleton-badges{display:flex;gap:.5rem;flex-wrap:wrap}.skeleton-badge{height:1.25rem;width:4rem;border-radius:1rem}.skeleton-badge--small{width:3rem}.skeleton-text{height:.875rem;width:100%}.skeleton-text.short{width:75%}.skeleton-text.shorter{width:50%}.skeleton-effect{height:1rem}.skeleton-description{height:.75rem;opacity:.7}.skeleton-meta{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.5rem}.skeleton-tag{height:1.5rem;width:5rem;border-radius:4px}.skeleton-tag--small{width:3.5rem}.skeleton-stats{display:flex;flex-direction:column;gap:.5rem;padding:.75rem;background:#0003;border-radius:6px;margin:.5rem 0}.skeleton-stat-row{display:flex;justify-content:space-between;align-items:center}.skeleton-stat-label{height:.875rem;width:30%}.skeleton-stat-value{height:.875rem;width:20%}.skeleton-weapon-stats{display:flex;flex-direction:column;gap:.5rem;margin:.5rem 0}.skeleton-stat-bar{height:.75rem;width:80%;border-radius:2px}.skeleton-stat-bar--short{width:60%}.skeleton-graph{margin-top:.5rem}.skeleton-button{height:2.25rem;margin-top:auto;border-radius:6px}.skeleton-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(100%,350px),1fr));gap:1.5rem}.skeleton-container.hidden{display:none}@media(max-width:480px){.skeleton-card{min-height:auto;padding:.6rem;display:grid;grid-template-columns:48px 1fr;grid-template-rows:auto auto auto;gap:.15rem .6rem}.skeleton-container{gap:.5rem}.skeleton-header{display:contents}.skeleton-image{width:48px;height:48px;grid-column:1;grid-row:1 / 4}.skeleton-image--large,.skeleton-image--shrine{width:48px;height:48px}.skeleton-title{grid-column:2;grid-row:1;flex-direction:row;align-items:center;gap:.4rem}.skeleton-name{height:1.1rem;width:60%;flex:1}.skeleton-badges{flex-shrink:0}.skeleton-badge{height:1rem;width:2.5rem}.skeleton-effect,.skeleton-text{grid-column:2;height:.75rem}.skeleton-description,.skeleton-graph,.skeleton-stats,.skeleton-weapon-stats{display:none}.skeleton-meta{grid-column:2;margin-top:0}.skeleton-tag{height:1.25rem;width:4rem}.skeleton-button{grid-column:2;height:1.75rem;width:auto;justify-self:start;padding:0 .6rem;margin-top:.2rem}}@media(max-width:375px){.skeleton-card{grid-template-columns:40px 1fr;padding:.5rem}.skeleton-image{width:40px;height:40px}.skeleton-name{height:.95rem}.skeleton-badge{height:.875rem;width:2rem}.skeleton-tag{height:1rem;width:3rem}}#toast-container{position:fixed;bottom:20px;left:50%;transform:translate(-50%);z-index:10000;display:flex;flex-direction:column;gap:8px;pointer-events:none;bottom:max(20px,calc(20px + env(safe-area-inset-bottom)))}.toast{padding:12px 24px;border-radius:8px;color:#fff;font-size:.9rem;font-weight:500;opacity:0;transform:translateY(20px);transition:opacity .3s ease,transform .3s ease;pointer-events:auto;max-width:90vw;text-align:center;box-shadow:0 4px 12px #0000004d}.toast-visible{opacity:1;transform:translateY(0)}.toast-info{background:#3b82f6}.toast-success{background:#22c55e}.toast-warning{background:#f59e0b}.toast-error{background:#ef4444}.offline-indicator{position:fixed;top:0;left:0;right:0;padding:.75rem 1rem;background:linear-gradient(135deg,#1c2a4a,#152235);border-bottom:2px solid #4a90e2;color:#b3d9ff;font-size:.9rem;font-weight:500;z-index:9999;animation:slideDown .3s ease;display:flex;align-items:center;justify-content:center;gap:.75rem}.offline-icon{font-size:1.1em}.offline-message{flex:0 1 auto}.offline-retry-btn{padding:.25rem .75rem;background:#4a90e24d;border:1px solid #4a90e2;border-radius:4px;color:#b3d9ff;font-size:.8rem;cursor:pointer;transition:background .2s ease}.offline-retry-btn:hover{background:#4a90e280}@keyframes slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes slideUp{0%{transform:translate(-50%) translateY(100%);opacity:0}to{transform:translate(-50%) translateY(0);opacity:1}}.empty-state{text-align:center;padding:3rem 1rem;color:var(--text-muted)}.empty-state h3{margin-bottom:.5rem;color:var(--text-primary)}.empty-state p{font-size:.9rem}.empty-state-enhanced{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2.5rem 1.5rem;max-width:600px;margin:0 auto}.empty-state-content{display:flex;flex-direction:column;align-items:center;gap:1rem}.empty-state-message{font-size:1.25rem;font-weight:600;color:var(--text-primary);margin:0;line-height:1.4}.empty-state-action{padding:.75rem 1.5rem;font-size:.95rem;font-weight:500;border-radius:8px;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease}.empty-state-action:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.empty-state-action:active{transform:translateY(0)}.empty-state-suggestions{width:100%;display:flex;flex-direction:column;align-items:center;gap:1rem}.suggestions-label{font-size:.875rem;color:var(--text-secondary);font-weight:500}.suggestions-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:.75rem;width:100%;max-width:560px}.suggestion-card{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.875rem .75rem;background:var(--bg-elevated);border:1px solid var(--border-color);border-radius:10px;cursor:pointer;transition:transform .15s ease,border-color .15s ease,box-shadow .15s ease}.suggestion-card:hover{transform:translateY(-3px);border-color:var(--accent);box-shadow:0 6px 16px #00000026}.suggestion-card:focus{outline:2px solid var(--accent);outline-offset:2px}.suggestion-card:active{transform:translateY(-1px)}.suggestion-visual{width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:8px;background:var(--bg-subtle);overflow:hidden}.suggestion-icon{font-size:1.75rem;line-height:1}.suggestion-image{width:100%;height:100%;object-fit:cover;border-radius:6px}.suggestion-info{display:flex;flex-direction:column;align-items:center;gap:.25rem;text-align:center}.suggestion-name{font-size:.8rem;font-weight:500;color:var(--text-primary);line-height:1.2;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.suggestion-tier{font-size:.7rem;font-weight:600;padding:.15rem .4rem;border-radius:4px;text-transform:uppercase}.suggestion-tier.tier-SS{background:linear-gradient(135deg,gold,#ff8c00);color:#1a1a2e}.suggestion-tier.tier-S{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff}.suggestion-tier.tier-A{background:linear-gradient(135deg,#9b59b6,#8e44ad);color:#fff}.suggestion-tier.tier-B{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff}.suggestion-tier.tier-C{background:linear-gradient(135deg,#95a5a6,#7f8c8d);color:#fff}@media(max-width:480px){.empty-state-enhanced{padding:2rem 1rem;gap:1.5rem}.empty-state-message{font-size:1.1rem}.suggestions-grid{grid-template-columns:repeat(2,1fr);gap:.5rem}.suggestion-card{padding:.75rem .5rem}.suggestion-visual{width:40px;height:40px}.suggestion-icon{font-size:1.5rem}.suggestion-name{font-size:.75rem}}@media(max-width:768px){#toast-container{bottom:max(80px,calc(env(safe-area-inset-bottom) + 60px));left:50%;right:auto;transform:translate(-50%);width:90%;max-width:350px}.toast{max-width:100%}}.pull-refresh-indicator{position:fixed;top:0;left:0;right:0;height:0;display:flex;align-items:flex-end;justify-content:center;z-index:9990;pointer-events:none;overflow:hidden;--pull-distance: 0px;--pull-progress: 0}.pull-refresh-indicator.active{height:var(--pull-distance)}.pull-refresh-indicator.resetting{transition:height .3s ease-out}.pull-refresh-content{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;opacity:var(--pull-progress);transform:translateY(calc((1 - var(--pull-progress)) * -20px));transition:transform .1s ease-out}.pull-refresh-indicator.resetting .pull-refresh-content{opacity:0;transition:opacity .2s ease-out,transform .2s ease-out}.pull-refresh-spinner{width:28px;height:28px;border:3px solid rgba(255,255,255,.2);border-top-color:var(--accent, #00ff88);border-radius:50%;transform:rotate(calc(var(--pull-progress) * 360deg));transition:transform .1s ease-out}.pull-refresh-indicator.threshold-reached .pull-refresh-spinner{border-top-color:var(--accent, #00ff88);border-color:#00ff884d;transform:rotate(360deg)}.pull-refresh-indicator.refreshing .pull-refresh-spinner{animation:pull-refresh-spin .8s linear infinite}@keyframes pull-refresh-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.pull-refresh-text{font-size:.85rem;font-weight:500;color:var(--text-secondary, #999);text-align:center;white-space:nowrap;transition:color .2s ease}.pull-refresh-indicator.threshold-reached .pull-refresh-text{color:var(--accent, #00ff88)}.pull-refresh-indicator.refreshing .pull-refresh-text{color:var(--text-primary, #fff)}.pull-refresh-indicator:before{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,rgba(0,255,136,calc(var(--pull-progress) * .1)),transparent);pointer-events:none}.pull-refresh-indicator.threshold-reached:before{background:linear-gradient(to bottom,rgba(0,255,136,.15),transparent)}.pull-refresh-indicator.refreshing:before{background:linear-gradient(to bottom,rgba(0,255,136,.2),transparent)}@media(hover:hover)and (pointer:fine){.pull-refresh-indicator{display:none!important}}@supports (padding-top: env(safe-area-inset-top)){.pull-refresh-content{padding-top:calc(1rem + env(safe-area-inset-top))}}.shortcuts-modal{z-index:10000}.shortcuts-modal-content{max-width:700px;max-height:80vh;overflow-y:auto}.shortcuts-modal-body{display:flex;flex-direction:column;gap:2rem}.shortcuts-category{display:flex;flex-direction:column;gap:1rem}.shortcuts-category-title{font-size:1.1rem;color:var(--accent);border-bottom:1px solid var(--bg-subtle);padding-bottom:.5rem;margin-bottom:.5rem}.shortcuts-list{display:flex;flex-direction:column;gap:.75rem}.shortcut-item{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:var(--bg-elevated);border-radius:.375rem;transition:background .2s}.shortcut-item:hover{background:var(--bg-subtle)}.shortcut-keys{display:flex;align-items:center;gap:.25rem;flex-shrink:0}.shortcut-key{display:inline-flex;align-items:center;justify-content:center;min-width:2rem;padding:.25rem .5rem;font-family:Courier New,monospace;font-size:.875rem;font-weight:600;color:var(--text-primary);background:var(--bg-primary);border:1px solid var(--bg-subtle);border-radius:.25rem;box-shadow:0 2px #0000004d}.key-separator{margin:0 .25rem;color:var(--text-secondary);font-size:.75rem}.shortcut-description{flex:1;margin-left:1rem;color:var(--text-secondary)}.shortcuts-tip{text-align:center;color:var(--text-secondary);font-size:.875rem;margin-top:1rem}.shortcuts-tip kbd{display:inline-flex;align-items:center;padding:.125rem .375rem;font-family:Courier New,monospace;font-size:.75rem;color:var(--text-primary);background:var(--bg-primary);border:1px solid var(--bg-subtle);border-radius:.25rem}@media(max-width:640px){.shortcuts-modal-content{max-width:95vw;max-height:90vh}.shortcut-item{flex-direction:column;align-items:flex-start;gap:.5rem}.shortcut-description{margin-left:0}}.theme-toggle{position:fixed;top:1rem;right:1rem;width:3rem;height:3rem;display:flex;align-items:center;justify-content:center;font-size:1.5rem;background:var(--bg-elevated);border:1px solid var(--bg-subtle);border-radius:50%;cursor:pointer;transition:all .3s ease;z-index:999;box-shadow:0 4px 6px #0000004d}.theme-toggle:hover{background:var(--bg-subtle);transform:scale(1.1) rotate(20deg);box-shadow:0 6px 12px #0006}.theme-toggle:active{transform:scale(.95)}@media(max-width:640px){.theme-toggle{top:.5rem;right:.5rem;width:2.5rem;height:2.5rem;font-size:1.25rem}}.about-container{max-width:800px;margin:0 auto;padding:1rem}.about-content{background:var(--bg-medium, #2a2a2a);border-radius:16px;padding:2rem;border:1px solid var(--bg-subtle, #333)}.about-header{text-align:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid var(--bg-subtle, #333)}.about-logo{font-size:4rem;margin-bottom:1rem;animation:bounce 2s ease-in-out infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.about-title{font-size:1.75rem;color:var(--text-primary, #fff);margin:0 0 .5rem;font-weight:700}.about-subtitle{color:var(--text-muted, #888);margin:0;font-size:1rem}.about-info-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:2rem}.about-info-card{display:flex;align-items:center;gap:1rem;background:var(--bg-dark, #1a1a1a);padding:1rem;border-radius:12px;border:1px solid var(--bg-subtle, #333);transition:border-color .2s ease,transform .2s ease}.about-info-card:hover{border-color:var(--accent, #00ff88);transform:translateY(-2px)}.about-info-icon{font-size:1.5rem;flex-shrink:0}.about-info-details{display:flex;flex-direction:column;gap:.25rem;min-width:0}.about-info-label{font-size:.7rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-muted, #888)}.about-info-value{font-size:.95rem;font-weight:600;color:var(--text-primary, #fff);word-break:break-word}.about-commit-link{color:var(--accent, #00ff88);text-decoration:none;font-family:SF Mono,Consolas,monospace}.about-commit-link:hover{text-decoration:underline}.about-links-section{margin-bottom:2rem}.about-links-section h3{font-size:1rem;color:var(--text-primary, #fff);margin:0 0 1rem;text-transform:uppercase;letter-spacing:.05em}.about-links{display:flex;flex-direction:column;gap:.75rem}.about-link{display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--bg-dark, #1a1a1a);border:1px solid var(--bg-subtle, #333);border-radius:12px;color:var(--text-primary, #fff);text-decoration:none;transition:background .2s ease,border-color .2s ease,transform .2s ease}.about-link:hover,.about-link:focus{background:var(--bg-subtle, #333);border-color:var(--accent, #00ff88);transform:translate(4px)}.about-link:focus-visible{outline:2px solid var(--accent, #00ff88);outline-offset:2px}.about-link-icon{font-size:1.5rem;flex-shrink:0}.about-link-text{display:flex;flex-direction:column;gap:.25rem}.about-link-text strong{font-size:.95rem;font-weight:600}.about-link-text span{font-size:.8rem;color:var(--text-muted, #888)}.about-features-section{margin-bottom:2rem}.about-features-section h3{font-size:1rem;color:var(--text-primary, #fff);margin:0 0 1rem;text-transform:uppercase;letter-spacing:.05em}.about-features{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.about-features li{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:var(--bg-dark, #1a1a1a);border-radius:8px;font-size:.9rem;color:var(--text-secondary, #ccc);transition:background .2s ease}.about-features li:hover{background:var(--bg-subtle, #333)}.about-footer{text-align:center;padding-top:1.5rem;border-top:1px solid var(--bg-subtle, #333)}.about-credits{margin:0 0 .5rem;font-size:1rem;color:var(--text-primary, #fff)}.about-disclaimer{margin:0;font-size:.8rem;color:var(--text-muted, #888)}[data-theme=light] .about-content{background:var(--bg-primary, #f5f5f7)}[data-theme=light] .about-info-card,[data-theme=light] .about-link,[data-theme=light] .about-features li{background:var(--bg-elevated, #fff);border-color:var(--bg-subtle, #e5e5ea)}[data-theme=light] .about-link:hover,[data-theme=light] .about-link:focus,[data-theme=light] .about-features li:hover{background:var(--bg-subtle, #e5e5ea)}@media(max-width:600px){.about-container{padding:.5rem}.about-content{padding:1.5rem;border-radius:12px}.about-logo{font-size:3rem}.about-title{font-size:1.5rem}.about-info-grid{grid-template-columns:1fr;gap:.75rem}.about-info-card{padding:.75rem}.about-info-icon{font-size:1.25rem}.about-link{padding:.75rem}.about-link-icon{font-size:1.25rem}.about-features{grid-template-columns:1fr}.about-features li{padding:.6rem .75rem;font-size:.85rem}}.mobile-bottom-nav{display:none;position:fixed;bottom:0;left:0;right:0;background:var(--bg-elevated);border-top:1px solid var(--bg-subtle);padding:.25rem 0;padding-bottom:max(.25rem,env(safe-area-inset-bottom));z-index:100;box-shadow:0 -2px 10px #0000004d}.mobile-bottom-nav .nav-items{display:flex;justify-content:space-around;align-items:center;max-width:500px;margin:0 auto;padding:0 .25rem}.mobile-bottom-nav .nav-item{display:flex;flex-direction:column;align-items:center;gap:.1rem;padding:.25rem .35rem;background:transparent;border:none;color:var(--text-secondary);font-size:.55rem;cursor:pointer;transition:all .15s ease;min-width:48px}.mobile-bottom-nav .nav-item .nav-icon{font-size:1rem}.mobile-bottom-nav .nav-item.active{color:var(--accent)}.mobile-bottom-nav .nav-item:active{transform:scale(.95)}@media(max-width:768px){.mobile-bottom-nav{display:block}.tabs{display:none}main{padding-bottom:56px}footer{padding-bottom:max(4rem,calc(3rem + env(safe-area-inset-bottom)))}}.more-menu{position:fixed;inset:0;z-index:150;visibility:hidden;pointer-events:none}.more-menu.active{visibility:visible;pointer-events:auto}.more-menu-backdrop{position:absolute;inset:0;background:#0000;-webkit-backdrop-filter:blur(0);backdrop-filter:blur(0);transition:background .3s ease,backdrop-filter .3s ease}.more-menu.active .more-menu-backdrop{background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.more-menu-drawer{position:absolute;bottom:0;left:0;right:0;background:var(--bg-elevated);border-radius:16px 16px 0 0;box-shadow:0 -4px 24px #0000004d;transform:translateY(100%);transition:transform .3s cubic-bezier(.32,.72,0,1);max-height:70vh;overflow:hidden;display:flex;flex-direction:column;padding-bottom:max(.5rem,env(safe-area-inset-bottom))}.more-menu.active .more-menu-drawer{transform:translateY(0)}.more-menu-handle{width:36px;height:4px;background:var(--text-secondary);opacity:.3;border-radius:2px;margin:12px auto 8px;flex-shrink:0}.more-menu-header{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem 1rem;flex-shrink:0}.more-menu-title{font-weight:600;font-size:1.1rem;color:var(--text-primary)}.more-menu-close{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--bg-subtle);border:none;border-radius:50%;color:var(--text-secondary);font-size:1.25rem;cursor:pointer;transition:all .2s ease}.more-menu-close:hover,.more-menu-close:focus{background:var(--accent);color:#fff;outline:none}.more-menu-close:focus-visible{box-shadow:0 0 0 2px var(--bg-elevated),0 0 0 4px var(--accent)}.more-menu-items{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem;padding:.5rem 1rem 1rem;overflow-y:auto}.more-menu-item{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1rem .5rem;background:var(--bg-subtle);border:2px solid transparent;border-radius:12px;color:var(--text-primary);cursor:pointer;transition:all .2s ease;font-size:.85rem;font-weight:500;min-height:80px}.more-menu-item:hover{background:var(--bg-card);border-color:var(--accent)}.more-menu-item:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(var(--accent-rgb, 99, 102, 241),.3)}.more-menu-item:focus-visible{border-color:var(--accent);box-shadow:0 0 0 3px rgba(var(--accent-rgb, 99, 102, 241),.4)}.more-menu-item:active{transform:scale(.95)}.more-menu-item .menu-icon{font-size:1.75rem;line-height:1}.more-menu-item .menu-label{text-align:center;line-height:1.2}.more-menu-item.current{background:var(--accent);color:#fff;border-color:var(--accent)}.more-menu-item.current:hover{background:var(--accent);opacity:.9}body.more-menu-open{overflow:hidden}[data-theme=light] .more-menu-drawer{box-shadow:0 -4px 24px #00000026}[data-theme=light] .more-menu.active .more-menu-backdrop{background:#0000004d}@media(prefers-reduced-motion:reduce){.more-menu-drawer,.more-menu-backdrop,.more-menu-item{transition:none}.more-menu-item:active{transform:none}}.mobile-filter-btn{display:none;align-items:center;gap:.5rem;padding:.6rem 1rem;background:var(--bg-elevated);border:1px solid var(--bg-subtle);border-radius:8px;color:var(--text-primary);font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s ease;white-space:nowrap}.mobile-filter-btn:hover,.mobile-filter-btn:focus{background:var(--bg-subtle);border-color:var(--accent);outline:none}.mobile-filter-btn:focus-visible{box-shadow:0 0 0 2px var(--bg-elevated),0 0 0 4px var(--accent)}.mobile-filter-btn .filter-icon{font-size:1.1rem}.mobile-filter-btn .filter-badge{display:none;min-width:18px;height:18px;padding:0 5px;background:var(--accent);color:#fff;font-size:.7rem;font-weight:600;border-radius:9px;line-height:18px;text-align:center}.mobile-filter-btn.has-filters .filter-badge{display:inline-block}.filter-bottom-sheet{position:fixed;inset:0;z-index:160;visibility:hidden;pointer-events:none}.filter-bottom-sheet.active{visibility:visible;pointer-events:auto}.filter-sheet-backdrop{position:absolute;inset:0;background:#0000;-webkit-backdrop-filter:blur(0);backdrop-filter:blur(0);transition:background .3s ease,backdrop-filter .3s ease}.filter-bottom-sheet.active .filter-sheet-backdrop{background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.filter-sheet-drawer{position:absolute;bottom:0;left:0;right:0;background:var(--bg-elevated);border-radius:16px 16px 0 0;box-shadow:0 -4px 24px #0000004d;transform:translateY(100%);transition:transform .3s cubic-bezier(.32,.72,0,1);max-height:85vh;overflow:hidden;display:flex;flex-direction:column;padding-bottom:max(1rem,env(safe-area-inset-bottom))}.filter-bottom-sheet.active .filter-sheet-drawer{transform:translateY(0)}.filter-sheet-handle{width:36px;height:4px;background:var(--text-secondary);opacity:.3;border-radius:2px;margin:12px auto 8px;flex-shrink:0}.filter-sheet-header{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem 1rem;flex-shrink:0;border-bottom:1px solid var(--bg-subtle)}.filter-sheet-title{font-weight:600;font-size:1.1rem;color:var(--text-primary)}.filter-sheet-actions{display:flex;align-items:center;gap:.75rem}.filter-sheet-clear{padding:.4rem .75rem;background:transparent;border:1px solid var(--bg-subtle);border-radius:6px;color:var(--text-secondary);font-size:.85rem;cursor:pointer;transition:all .2s ease}.filter-sheet-clear:hover,.filter-sheet-clear:focus{background:var(--bg-subtle);color:var(--text-primary);outline:none}.filter-sheet-close{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--bg-subtle);border:none;border-radius:50%;color:var(--text-secondary);font-size:1.25rem;cursor:pointer;transition:all .2s ease}.filter-sheet-close:hover,.filter-sheet-close:focus{background:var(--accent);color:#fff;outline:none}.filter-sheet-close:focus-visible{box-shadow:0 0 0 2px var(--bg-elevated),0 0 0 4px var(--accent)}.filter-sheet-content{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:1.25rem}.filter-group{display:flex;flex-direction:column;gap:.5rem}.filter-group-label{font-size:.85rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.filter-group select{width:100%;padding:.75rem 2.5rem .75rem 1rem;background:var(--bg-subtle);border:1px solid var(--bg-subtle);border-radius:8px;color:var(--text-primary);font-size:1rem;cursor:pointer;transition:all .2s ease;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%239ca3af' viewBox='0 0 16 16'%3E%3Cpath d='M4.646 5.646a.5.5 0 0 1 .708 0L8 8.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 1rem center}.filter-group select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(var(--accent-rgb, 99, 102, 241),.2)}.filter-group-checkbox{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:var(--bg-subtle);border-radius:8px;cursor:pointer;transition:all .2s ease}.filter-group-checkbox:hover{background:var(--bg-card)}.filter-group-checkbox input[type=checkbox]{width:20px;height:20px;accent-color:var(--accent);cursor:pointer}.filter-group-checkbox .checkbox-label{font-size:1rem;color:var(--text-primary);display:flex;align-items:center;gap:.5rem}.filter-sheet-apply{padding:0 1rem .5rem;flex-shrink:0}.filter-sheet-apply button{width:100%;padding:1rem;background:var(--accent);border:none;border-radius:10px;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease}.filter-sheet-apply button:hover,.filter-sheet-apply button:focus{background:var(--accent-hover, #5b21b6);outline:none}.filter-sheet-apply button:active{transform:scale(.98)}body.filter-sheet-open{overflow:hidden}[data-theme=light] .filter-sheet-drawer{box-shadow:0 -4px 24px #00000026}[data-theme=light] .filter-bottom-sheet.active .filter-sheet-backdrop{background:#0000004d}@media(max-width:768px){.mobile-filter-btn{display:flex}.controls .filters{display:none!important}.controls .container{flex-wrap:wrap;gap:.75rem}.controls .search-box{flex:1;min-width:0}.filter-toggle-btn{display:none!important}.controls .item-count{order:3;width:100%;text-align:center;margin-top:.25rem}}@media(prefers-reduced-motion:reduce){.filter-sheet-drawer,.filter-sheet-backdrop{transition:none}.filter-sheet-apply button:active{transform:none}}.mt-1{margin-top:1rem}.mt-2{margin-top:2rem}.mb-1{margin-bottom:1rem}.mb-2{margin-bottom:2rem}.text-center{text-align:center}.search-results-dropdown{position:absolute;top:100%;left:0;right:0;background:var(--bg-elevated);border:2px solid var(--accent);border-top:none;border-radius:0 0 8px 8px;box-shadow:0 8px 24px #0006;z-index:1001;max-height:400px;overflow-y:auto;margin-top:-2px}.search-results-dropdown[hidden]{display:none}.search-dropdown-empty{padding:2rem 1rem;text-align:center;color:var(--text-secondary)}.search-dropdown-empty .empty-icon{font-size:2rem;display:block;margin-bottom:.5rem}.search-dropdown-section{border-bottom:1px solid var(--bg-subtle)}.search-dropdown-section:last-of-type{border-bottom:none}.search-dropdown-header{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:var(--bg-dark);font-size:.8125rem;font-weight:600;color:var(--text-secondary);position:sticky;top:0;z-index:1}.search-dropdown-header .section-icon{font-size:1rem}.search-dropdown-header .section-count{color:var(--text-muted);font-weight:400}.search-dropdown-items{display:flex;flex-direction:column}.search-dropdown-item{display:grid;grid-template-columns:36px 1fr auto auto;gap:.75rem;align-items:center;padding:.625rem 1rem;cursor:pointer;transition:all .15s ease;border-bottom:1px solid var(--bg-subtle)}.search-dropdown-item:last-child{border-bottom:none}.search-dropdown-item:hover,.search-dropdown-item.keyboard-focused{background:var(--bg-dark)}.search-dropdown-item.keyboard-focused{outline:2px solid var(--accent);outline-offset:-2px}.dropdown-item-visual{width:36px;height:36px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.dropdown-item-image{width:36px;height:36px;border-radius:4px;object-fit:cover}.dropdown-item-icon{font-size:1.25rem}.dropdown-item-info{display:flex;align-items:center;gap:.5rem;min-width:0}.dropdown-item-name{font-size:.875rem;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dropdown-item-info .tier-label{font-size:.6875rem;padding:.125rem .375rem;flex-shrink:0}.dropdown-item-desc{font-size:.75rem;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}.dropdown-item-arrow{color:var(--text-muted);font-size:.875rem;transition:transform .15s ease,color .15s ease}.search-dropdown-item:hover .dropdown-item-arrow,.search-dropdown-item.keyboard-focused .dropdown-item-arrow{color:var(--accent);transform:translate(3px)}.match-highlight{background:#e945604d;color:var(--accent);padding:0 2px;border-radius:2px}.search-dropdown-footer{display:flex;justify-content:center;gap:1rem;padding:.5rem 1rem;background:var(--bg-dark);border-top:1px solid var(--bg-subtle);position:sticky;bottom:0}.keyboard-hint{font-size:.6875rem;color:var(--text-muted);display:flex;align-items:center;gap:.25rem}.search-help-text{font-size:.7rem;color:var(--text-secondary);padding:.4rem;margin-top:.5rem}.current-tab-section{background:linear-gradient(135deg,#00ff881a,#00c8780d);border-radius:.5rem .5rem 0 0;margin-left:-1rem;margin-right:-1rem;padding:.75rem 1rem;border-top:2px solid var(--accent)}.current-tab-section .section-title{color:var(--accent)}.current-tab-results{background:linear-gradient(180deg,rgba(0,255,136,.05) 0%,transparent 100%);margin-left:-1rem;margin-right:-1rem;padding-left:1rem;padding-right:1rem;border-radius:0 0 .5rem .5rem;margin-bottom:1rem}.error-container{position:fixed;top:0;left:0;right:0;z-index:9998}.error-message{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;background:linear-gradient(135deg,#4a1c1c,#3a1515);border-bottom:2px solid #ff4444;color:#fcc}.error-message .error-icon{font-size:1.5rem;flex-shrink:0}.error-message .error-content{flex:1}.error-message .error-content strong{display:block;margin-bottom:.25rem;color:#f88}.error-message .error-content p{margin:0;font-size:.9rem}.error-message .error-close{background:none;border:none;color:#fcc;font-size:1.5rem;cursor:pointer;padding:0;line-height:1;opacity:.7;transition:opacity .2s}.error-message .error-close:hover{opacity:1}.modal-body{padding:1rem}.modal-item-image,.modal-character-image{max-width:120px;max-height:120px;border-radius:12px;float:right;margin-left:1rem;margin-bottom:1rem;box-shadow:0 4px 12px #0000004d}.modal-graph-container{width:100%;height:250px;margin:1.5rem 0;padding:1rem;background:var(--bg-dark);border-radius:8px}.multi-select{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(100%,200px),1fr));gap:.75rem;max-height:300px;overflow-y:auto;-webkit-overflow-scrolling:touch}.multi-select label{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:var(--bg-dark);border-radius:6px;cursor:pointer;transition:all .2s ease}.multi-select label:hover{background:var(--bg-medium);transform:translate(5px)}.multi-select input[type=checkbox]{width:18px;height:18px;cursor:pointer}.slot-preview{margin-top:1rem;padding:1rem;background:var(--bg-dark);border-radius:8px;min-height:100px}.synergy-badge{padding:.5rem 1rem;background:#5cb85c33;border:2px solid var(--common);border-radius:20px;font-size:.9rem}.anti-synergy-tag{padding:6px 12px;background:var(--bg-dark);border-radius:6px;font-size:.9rem;border:2px solid var(--tier-c)}.stat-card{background:var(--bg-dark);padding:1rem;border-radius:8px;display:flex;align-items:center;gap:1rem;transition:all .3s ease;border:2px solid transparent}.stat-card:hover{border-color:var(--accent);transform:translateY(-2px)}.stat-card.stat-overcrit{border-color:var(--legendary);background:linear-gradient(135deg,var(--bg-dark) 0%,rgba(255,165,0,.1) 100%);animation:pulseGlow 2s infinite}@keyframes pulseGlow{0%,to{box-shadow:0 0 10px #ffa5004d}50%{box-shadow:0 0 20px #ffa50099}}.stat-icon{font-size:2rem;flex-shrink:0}.stat-info{flex:1;text-align:left}.stats-placeholder{text-align:center;color:var(--text-muted);padding:2rem;font-style:italic}.one-and-done-warning{background:#ffc10726;border:1px solid #ffc107;border-radius:6px;padding:.75rem;margin:1rem 0;display:flex;align-items:center;gap:.5rem}.one-and-done-warning .warning-icon{background:#ffc107;color:#1a1a24;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}.warning-icon{font-size:1.1rem}.warning{color:var(--rare);background:#d9534f1a;padding:.75rem;border-radius:6px;border-left:3px solid var(--rare)}.hidden-mechanics{background:#ff98001f;border:1px solid #ff9800;border-radius:8px;padding:1rem;margin:1rem 0}.hidden-mechanics h4{margin:0 0 .75rem;color:#ff9800;font-size:1rem;display:flex;align-items:center;gap:.5rem}.hidden-mechanics-icon{font-size:1.1rem}.hidden-mechanics ul{margin:0;padding-left:1.25rem}.hidden-mechanics li{margin-bottom:.4rem;color:var(--text-primary);font-size:.9rem;line-height:1.4}.hidden-mechanics li:last-child{margin-bottom:0}.hyperbolic-warning{background:#9c27b026;border:1px solid #9c27b0;border-radius:6px;padding:.75rem;margin:.75rem 0;display:flex;align-items:center;gap:.5rem;font-size:.9rem}.hyperbolic-warning .warning-icon{color:#9c27b0;font-size:1.1rem}.scaling-tracks-container{margin:1rem 0}.scaling-tabs{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.75rem}.scaling-tab{background:var(--bg-dark);border:1px solid rgba(255,255,255,.1);border-radius:4px;padding:.4rem .75rem;color:var(--text-muted);font-size:.85rem;cursor:pointer;transition:all .2s ease}.scaling-tab:hover{border-color:var(--accent);color:var(--text-primary)}.scaling-tab.active{background:var(--accent);border-color:var(--accent);color:#fff}.scaling-chart{width:100%!important;height:100%!important}.expandable-text{cursor:pointer;transition:all .2s ease;border-radius:4px}.expandable-text:hover{background:#e945600d}.expandable-text.expanded{background:#e9456014;padding:.75rem;margin:-.25rem;border-radius:6px}.expand-indicator{display:block;font-size:.75rem;color:var(--accent);margin-top:.5rem;font-style:italic}.expandable-text:hover .expand-indicator{text-decoration:underline}.stack-info{margin:.75rem 0;padding:.5rem .75rem;background:var(--bg-dark);border-radius:4px;font-size:.9rem}.favorites-filter{display:flex;align-items:center;gap:.5rem;white-space:nowrap}.perf-badge,#perf-badge{position:fixed;bottom:8px;left:8px;padding:.35rem .6rem;background:#000000b3;color:var(--text-muted);font-size:.7rem;border-radius:4px;z-index:999;font-family:monospace}@media(max-width:768px){.perf-badge,#perf-badge{bottom:auto!important;top:max(8px,env(safe-area-inset-top))!important;left:8px!important;font-size:.65rem!important;padding:.25rem .5rem!important;opacity:.7!important}}@media(max-width:640px){.search-results-dropdown{position:fixed;inset:auto 0 0;max-height:60vh;border-radius:16px 16px 0 0;border:none;border-top:2px solid var(--accent);margin-top:0}.search-dropdown-item{grid-template-columns:32px 1fr auto;padding:.75rem 1rem}.dropdown-item-visual,.dropdown-item-image{width:32px;height:32px}.dropdown-item-desc{display:none}.dropdown-item-name{font-size:.8125rem}.search-dropdown-footer{padding:.625rem 1rem}.modal-item-image,.modal-character-image{float:none;display:block;margin:0 auto 1rem;max-width:100px;max-height:100px}}@media(max-width:768px){.multi-select{grid-template-columns:1fr;max-height:280px}.modal-graph-container{height:280px}}[data-theme=light]{--bg-primary: #f5f5f7;--bg-elevated: #ffffff;--bg-subtle: #e5e5ea;--text-primary: #1d1d1f;--text-secondary: #6e6e73;--accent: #e94560;--accent-hover: #d63850}[data-theme=light] body{background:var(--bg-primary);color:var(--text-primary)}[data-theme=light] header{background:var(--bg-elevated);border-bottom-color:var(--bg-subtle)}[data-theme=light] header h1{color:var(--accent)}[data-theme=light] .tabs{background:var(--bg-elevated);border-bottom-color:var(--bg-subtle)}[data-theme=light] .tab-btn{color:var(--text-secondary)}[data-theme=light] .tab-btn:hover{color:var(--text-primary);background:#00000008}[data-theme=light] .tab-btn.active{color:var(--accent)}[data-theme=light] .mobile-bottom-nav{background:var(--bg-elevated);border-top-color:var(--bg-subtle);box-shadow:0 -2px 10px #0000001a}[data-theme=light] .controls{background:var(--bg-elevated);border-bottom-color:var(--bg-subtle)}[data-theme=light] #searchInput{background:var(--bg-primary);color:var(--text-primary);border-color:var(--accent)}[data-theme=light] .filters select{background:var(--bg-primary);color:var(--text-primary);border-color:var(--bg-subtle)}[data-theme=light] .item-count{background:var(--bg-subtle);color:var(--text-secondary)}[data-theme=light] .item-card{background:var(--bg-elevated);box-shadow:0 2px 8px #0000001a}[data-theme=light] .item-card:hover{box-shadow:0 8px 24px #00000026;border-color:#0000001a}[data-theme=light] .entity-image{background:#0000000d}[data-theme=light] .item-effect{border-bottom-color:#0000000f}[data-theme=light] .item-formula{background:var(--bg-subtle);color:var(--text-primary)}[data-theme=light] .meta-tag{background:var(--bg-subtle);color:var(--text-secondary)}[data-theme=light] .modal-content{background:var(--bg-primary);box-shadow:0 10px 30px #0003}[data-theme=light] .modal.active{background-color:#00000080}[data-theme=light] .synergy-tag{background:#4a7c4a26;color:var(--rarity-common);border-color:var(--rarity-common)}[data-theme=light] .similar-items-section{border-top-color:var(--bg-subtle)}[data-theme=light] .similar-item-card{background:var(--bg-elevated);border-color:var(--bg-subtle)}[data-theme=light] .similar-item-card:hover{box-shadow:0 4px 12px #0000001a}[data-theme=light] .search-history-dropdown{background:var(--bg-elevated);box-shadow:0 4px 12px #00000026}[data-theme=light] .search-history-header{background:var(--bg-subtle);border-bottom-color:var(--bg-subtle)}[data-theme=light] .search-history-item:hover{background:var(--bg-subtle)}[data-theme=light] .recently-viewed-section{background:var(--bg-elevated);border-color:var(--bg-subtle)}[data-theme=light] .recent-item{background:var(--bg-subtle)}[data-theme=light] .recent-item:hover{background:var(--bg-primary)}[data-theme=light] .random-build-section{background:var(--bg-elevated);border-color:var(--bg-subtle)}[data-theme=light] .constraint-toggle,[data-theme=light] .random-build-slot{background:var(--bg-subtle)}[data-theme=light] .random-build-slot .slot-image{background:var(--bg-primary)}[data-theme=light] footer{background:var(--bg-elevated)}[data-theme=light] .toast{background:var(--bg-elevated);box-shadow:0 4px 12px #00000026}[data-theme=light] .update-notification{background:var(--bg-elevated);box-shadow:0 4px 20px #00000026}[data-theme=light] ::-webkit-scrollbar-track{background:var(--bg-subtle)}[data-theme=light] ::-webkit-scrollbar-thumb{background:var(--accent)}[data-theme=light] .theme-toggle{box-shadow:0 4px 6px #0000001a}[data-theme=light] .theme-toggle:hover{box-shadow:0 6px 12px #00000026}[data-theme=light] .floating-compare-btn{box-shadow:0 4px 12px #0003}[data-theme=light] .keyboard-shortcuts-modal{background:var(--bg-elevated)}[data-theme=light] .shortcut-row{border-bottom-color:var(--bg-subtle)}[data-theme=light] .shortcut-key{background:var(--bg-subtle);border-color:#0000001a}[data-theme=light] .build-planner{background:var(--bg-elevated)}[data-theme=light] .build-slot{background:var(--bg-primary);border-color:var(--bg-subtle)}[data-theme=light] .calculator-container{background:var(--bg-elevated)}[data-theme=light] .calculator-card,[data-theme=light] .breakpoint-card{background:var(--bg-primary);border-color:var(--bg-subtle)}[data-theme=light] .breakpoint-card:hover{background:var(--bg-subtle)}[data-theme=light] .changelog-container{background:var(--bg-elevated)}[data-theme=light] .changelog-entry{background:var(--bg-primary);border-color:var(--bg-subtle)}[data-theme=light] .compare-container{background:var(--bg-elevated)}[data-theme=light] .compare-column{background:var(--bg-primary);border-color:var(--bg-subtle)}@media(min-width:769px)and (max-width:1024px){.items-grid,.shrines-grid{grid-template-columns:repeat(2,1fr);gap:1.25rem}.compare-grid{grid-template-columns:repeat(2,1fr)}.batch-results-grid{grid-template-columns:repeat(3,1fr)}.advisor-grid,.advisor-choices-grid,.advisor-entity-list{grid-template-columns:repeat(2,1fr)}.container{padding:0 16px}.item-card{padding:1rem}.shrine-card{padding:1.25rem}}@media(min-width:1440px){.container{max-width:1600px;padding:0 32px;margin-left:auto;margin-right:auto}.items-grid{grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.75rem}.shrines-grid{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.75rem}.compare-grid{grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.75rem}.batch-results-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1.25rem}.advisor-grid,.advisor-choices-grid{grid-template-columns:repeat(3,1fr);gap:1.75rem}.advisor-entity-list{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1rem}.item-card{padding:1.5rem}.shrine-card{padding:1.75rem}.advisor-section{padding:2.5rem}.item-name{font-size:1.3rem}.shrine-name{font-size:1.4rem}.modal-wide{max-width:1600px!important}.compare-chart-container{height:350px}}@media(min-width:1920px){.container{max-width:1800px;padding:0 48px;margin-left:auto;margin-right:auto}.items-grid,.shrines-grid{grid-template-columns:repeat(5,1fr);gap:2rem}.compare-grid{grid-template-columns:repeat(4,1fr);gap:2rem}.batch-results-grid{grid-template-columns:repeat(6,1fr);gap:1.5rem}.advisor-grid,.advisor-choices-grid{grid-template-columns:repeat(4,1fr);gap:2rem}.advisor-entity-list{grid-template-columns:repeat(5,1fr);gap:1.25rem}.item-card{padding:1.75rem}.shrine-card{padding:2rem}.advisor-section{padding:3rem}.entity-image{width:72px;height:72px}.compare-chart-container{height:400px}main{padding:2rem 0}}@media(min-width:2560px){.container{max-width:2200px;margin-left:auto;margin-right:auto}.items-grid,.shrines-grid{grid-template-columns:repeat(6,1fr)}.batch-results-grid{grid-template-columns:repeat(8,1fr)}}@media(min-width:1440px){.build-scan-preview{grid-template-columns:1fr 1fr;gap:2.5rem}.build-scan-modal .modal-content{max-width:1100px}}@media(min-width:1920px){.build-scan-modal .modal-content{max-width:1300px}}@media(min-width:1440px){.strengths-weaknesses{gap:1.5rem}.strengths,.weaknesses{padding:1.25rem}}@media(min-width:1440px){.scaling-values{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}}@media(min-width:1920px){.scaling-values{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}}@media(min-width:1440px){.floating-compare-btn{bottom:3rem;right:3rem;padding:1.25rem 2.5rem;font-size:1.1rem}}@media(min-width:1440px){header h1{font-size:2rem}.subtitle{font-size:1.2rem}.version-info{gap:3rem;font-size:1rem}}@media(min-width:1920px){header h1{font-size:2.25rem}}@media(min-width:1440px){footer{padding:2rem 0}footer .version-info{font-size:.9rem}}@media(min-width:1440px){.empty-state{padding:4rem}.empty-icon{font-size:5rem}}@media(min-width:1920px){.empty-state{padding:5rem}}
